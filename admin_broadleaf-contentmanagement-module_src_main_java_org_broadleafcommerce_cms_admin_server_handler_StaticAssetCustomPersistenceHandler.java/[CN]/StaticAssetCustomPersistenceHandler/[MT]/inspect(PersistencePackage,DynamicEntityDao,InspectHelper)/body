{
  try {
    Map<MergedPropertyType,Map<String,FieldMetadata>> allMergedProperties=new EnumMap<MergedPropertyType,Map<String,FieldMetadata>>(MergedPropertyType.class);
    Class<?>[] entityClasses=dynamicEntityDao.getAllPolymorphicEntitiesFromCeiling(StaticAsset.class);
    if (getMergedProperties() == null) {
      createMergedProperties(persistencePackage,dynamicEntityDao,entityClasses);
    }
    allMergedProperties.put(MergedPropertyType.PRIMARY,getMergedProperties());
    ClassMetadata mergedMetadata=helper.getMergedClassMetadata(entityClasses,allMergedProperties);
    return new DynamicResultSet(mergedMetadata);
  }
 catch (  Exception e) {
    ServiceException ex=new ServiceException("Unable to retrieve inspection results for " + persistencePackage.getCeilingEntityFullyQualifiedClassname(),e);
    LOG.error("Unable to retrieve inspection results for " + persistencePackage.getCeilingEntityFullyQualifiedClassname(),ex);
    throw ex;
  }
}
