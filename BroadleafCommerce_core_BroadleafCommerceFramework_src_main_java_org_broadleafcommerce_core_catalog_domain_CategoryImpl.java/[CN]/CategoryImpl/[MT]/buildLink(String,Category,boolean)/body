{
  if (category == null || (ignoreTopLevel && category.getDefaultParentCategory() == null)) {
    return link;
  }
  String lLink;
  if (link == null) {
    lLink=category.getUrlKey();
  }
 else {
    lLink=category.getUrlKey() + "/" + link;
  }
  return buildLink(lLink,category.getDefaultParentCategory(),ignoreTopLevel);
}
