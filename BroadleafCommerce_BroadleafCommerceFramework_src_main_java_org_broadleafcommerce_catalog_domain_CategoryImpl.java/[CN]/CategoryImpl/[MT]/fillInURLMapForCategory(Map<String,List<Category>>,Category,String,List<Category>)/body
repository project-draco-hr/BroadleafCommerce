{
  final String urlKey=category.getUrlKey();
  if (urlKey == null) {
    throw new CacheFactoryException("Cannot create childCategoryURLMap - the urlKey for a category(" + category.getId() + ") was null");
  }
  final String currentPath=startingPath + "/" + category.getUrlKey();
  final List<Category> newCategoryList=new ArrayList<Category>(startingCategoryList);
  newCategoryList.add(category);
  category.getCategoryImages().size();
  category.getCategoryMedia().size();
  category.getAllParentCategories().size();
  category.getAllChildCategories().size();
  category.getFeaturedProducts().size();
  categoryUrlMap.put(currentPath,newCategoryList);
  for (  Category currentCategory : category.getChildCategories()) {
    fillInURLMapForCategory(categoryUrlMap,currentCategory,currentPath,newCategoryList);
  }
}
