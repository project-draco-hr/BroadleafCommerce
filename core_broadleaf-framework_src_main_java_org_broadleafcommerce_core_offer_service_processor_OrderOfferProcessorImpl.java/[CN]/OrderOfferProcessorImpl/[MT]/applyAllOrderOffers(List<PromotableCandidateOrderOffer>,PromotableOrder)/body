{
  boolean orderOffersApplied=false;
  Iterator<PromotableCandidateOrderOffer> orderOfferIterator=orderOffers.iterator();
  while (orderOfferIterator.hasNext()) {
    PromotableCandidateOrderOffer orderOffer=orderOfferIterator.next();
    if (orderOffer.getOffer().getTreatAsNewFormat() == null || !orderOffer.getOffer().getTreatAsNewFormat()) {
      if ((orderOffer.getOffer().isStackable()) || !promotableOrder.isHasOrderAdjustments()) {
        boolean alreadyContainsNotCombinableOfferAtAnyLevel=promotableOrder.isNotCombinableOfferAppliedAtAnyLevel();
        applyOrderOffer(promotableOrder,orderOffer);
        orderOffersApplied=true;
        if (!orderOffer.getOffer().isCombinableWithOtherOffers() || alreadyContainsNotCombinableOfferAtAnyLevel) {
          orderOffersApplied=compareAndAdjustOrderAndItemOffers(promotableOrder,orderOffersApplied);
          if (orderOffersApplied) {
            break;
          }
 else {
            orderOfferIterator.remove();
          }
        }
      }
    }
 else {
      if (!promotableOrder.containsNotStackableOrderOffer() || !promotableOrder.isHasOrderAdjustments()) {
        boolean alreadyContainsTotalitarianOffer=promotableOrder.isTotalitarianOfferApplied();
        applyOrderOffer(order,orderOffer);
        orderOffersApplied=true;
        if ((orderOffer.getOffer().isTotalitarianOffer() != null && orderOffer.getOffer().isTotalitarianOffer()) || alreadyContainsTotalitarianOffer) {
          orderOffersApplied=compareAndAdjustOrderAndItemOffers(promotableOrder,orderOffersApplied);
          if (orderOffersApplied) {
            break;
          }
 else {
            orderOfferIterator.remove();
          }
        }
 else         if (!orderOffer.getOffer().isCombinableWithOtherOffers()) {
          break;
        }
      }
    }
  }
  return orderOffersApplied;
}
