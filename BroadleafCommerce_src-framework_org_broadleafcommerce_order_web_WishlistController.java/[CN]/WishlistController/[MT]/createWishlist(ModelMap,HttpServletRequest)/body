{
  Order wishlistOrder=retrieveCartOrder(request);
  if (model.containsAttribute("wishlistItems")) {
    List<ProductItem> productItemList=(List<ProductItem>)model.get("productItemList");
    if (productItemList != null) {
      for (      ProductItem productItem : productItemList) {
        try {
          cartService.addSkuToOrder(wishlistOrder.getId(),productItem.getSkuId(),productItem.getProductId(),productItem.getCategoryId(),productItem.getQuantity());
        }
 catch (        PricingException e) {
          LOG.error("An exception occured while pricing the order: (" + wishlistOrder.getId() + ")",e);
        }
      }
    }
  }
  model.remove("wishlistItems");
  model.addAttribute("wishList",wishlistOrder);
  return "success";
}
