{
  InvocationHandler jpa2PersistenceUnitInfoDecorator=null;
  Class<?>[] classes=getClass().getSuperclass().getDeclaredClasses();
  for (  Class<?> clz : classes) {
    if ("org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager$Jpa2PersistenceUnitInfoDecorator".equals(clz.getName())) {
      Constructor<?> constructor;
      try {
        constructor=clz.getConstructor(Class.forName("org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo"));
        constructor.setAccessible(true);
        jpa2PersistenceUnitInfoDecorator=(InvocationHandler)constructor.newInstance(mPui);
      }
 catch (      Exception e) {
        throw new IllegalArgumentException(e);
      }
      break;
    }
  }
  PersistenceUnitInfo puiToStore=(PersistenceUnitInfo)Proxy.newProxyInstance(SmartPersistenceUnitInfo.class.getClassLoader(),new Class[]{SmartPersistenceUnitInfo.class},jpa2PersistenceUnitInfoDecorator);
  return puiToStore;
}
