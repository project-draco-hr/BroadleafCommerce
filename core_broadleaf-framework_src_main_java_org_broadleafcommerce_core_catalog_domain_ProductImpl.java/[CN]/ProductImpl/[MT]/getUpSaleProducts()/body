{
  List<RelatedProduct> returnProducts=new ArrayList<RelatedProduct>();
  if (upSaleProducts != null) {
    returnProducts.addAll(upSaleProducts);
    CollectionUtils.filter(returnProducts,new Predicate(){
      @Override public boolean evaluate(      Object arg){
        return 'Y' != ((Status)((UpSaleProductImpl)arg).getRelatedProduct()).getArchived();
      }
    }
);
  }
  return returnProducts;
}
