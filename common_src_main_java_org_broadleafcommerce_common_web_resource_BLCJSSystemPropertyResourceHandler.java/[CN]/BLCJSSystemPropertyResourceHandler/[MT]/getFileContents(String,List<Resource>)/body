{
  Resource resource=getRawResource(path,locations);
  String contents;
  try {
    contents=getResourceContents(resource);
  }
 catch (  IOException e) {
    throw new RuntimeException("Could not get raw resource contents",e);
  }
  String newContents=contents;
  if (StringUtils.isNotBlank(contents)) {
    String regexKey="\\\"BLC_PROP:(.*)\\\"";
    Pattern p=Pattern.compile(regexKey);
    Matcher m=p.matcher(contents);
    while (m.find()) {
      String matchedPlaceholder=m.group(0);
      String propertyName=m.group(1);
      String propVal=BLCSystemProperty.resolveSystemProperty(propertyName);
      if (StringUtils.isBlank(propVal)) {
        propVal="";
      }
      newContents=newContents.replaceAll(matchedPlaceholder,'"' + propVal + '"');
    }
  }
  GeneratedResource gr=new GeneratedResource(newContents.getBytes(),path);
  gr.setHashRepresentation(String.valueOf(contents.hashCode()));
  return gr;
}
