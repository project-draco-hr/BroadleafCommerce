{
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("pageCustomerDS",new CustomerListDataSourceFactory(),new AsyncCallbackAdapter(){
    @Override public void onSetupSuccess(    DataSource result){
      ((DynamicEntityDataSource)result).permanentlyShowFields("id");
    }
  }
));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("pageProductDS",new ProductListDataSourceFactory(),new NullAsyncCallbackAdapter()));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("pageTimeDTODS",new TimeDTOListDataSourceFactory(),new NullAsyncCallbackAdapter()));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("pageRequestDTODS",new RequestDTOListDataSourceFactory(),new NullAsyncCallbackAdapter()));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("pageOrderItemDS",new OrderItemListDataSourceFactory(),new AsyncCallbackAdapter(){
    @Override public void onSetupSuccess(    DataSource result){
      ((DynamicEntityDataSource)result).permanentlyShowFields("product.id","category.id","sku.id");
    }
  }
));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("pageDS",new PageDataSourceFactory(),new AsyncCallbackAdapter(){
    @Override public void onSetupSuccess(    DataSource top){
      setupDisplayItems(top,getPresenterSequenceSetupManager().getDataSource("pageCustomerDS"),getPresenterSequenceSetupManager().getDataSource("pageTimeDTODS"),getPresenterSequenceSetupManager().getDataSource("pageRequestDTODS"),getPresenterSequenceSetupManager().getDataSource("pageOrderItemDS"),getPresenterSequenceSetupManager().getDataSource("pageProductDS"));
      ((ListGridDataSource)top).setupGridFields(new String[]{"locked","fullUrl","description","pageTemplate_Grid"});
    }
  }
));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("pageTemplateSearchDS",new PageTemplateSearchListDataSourceFactory(),new OperationTypes(OperationType.BASIC,OperationType.BASIC,OperationType.BASIC,OperationType.BASIC,OperationType.BASIC),new Object[]{},new AsyncCallbackAdapter(){
    @Override public void onSetupSuccess(    DataSource result){
      ListGridDataSource pageTemplateDataSource=(ListGridDataSource)result;
      pageTemplateDataSource.resetPermanentFieldVisibility("templateName","templatePath");
      EntitySearchDialog pageTemplateSearchView=new EntitySearchDialog(pageTemplateDataSource,true);
      pageTemplateDialogView=pageTemplateSearchView;
      getPresenterSequenceSetupManager().getDataSource("pageDS").getFormItemCallbackHandlerManager().addSearchFormItemCallback("pageTemplate",pageTemplateSearchView,"Page Template Search",getDisplay().getDynamicFormDisplay(),new FormItemCallback(){
        @Override public void execute(        FormItem formItem){
          if (currentPageRecord != null && BLCMain.ENTITY_ADD.getHidden()) {
            destroyTemplateForm();
            loadTemplateForm(currentPageRecord,(String)formItem.getValue(),null);
          }
        }
      }
);
    }
  }
));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("pagesItemCriteriaDS",new PagesItemCriteriaListDataSourceFactory(),new AsyncCallbackAdapter(){
    @Override public void onSetupSuccess(    DataSource result){
      initializer=new PagesRuleBasedPresenterInitializer(PagesPresenter.this,(DynamicEntityDataSource)result,getPresenterSequenceSetupManager().getDataSource("pageOrderItemDS"));
      extractor=new PagesPresenterExtractor(PagesPresenter.this);
    }
  }
));
}
