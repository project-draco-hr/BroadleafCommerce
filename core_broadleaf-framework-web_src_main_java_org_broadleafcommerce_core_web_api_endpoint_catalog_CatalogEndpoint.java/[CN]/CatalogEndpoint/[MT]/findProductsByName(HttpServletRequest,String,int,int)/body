{
  List<Product> result;
  if (name == null) {
    result=catalogService.findAllProducts(limit,offset);
  }
 else {
    result=catalogService.findProductsByName(name,limit,offset);
  }
  List<ProductSummaryWrapper> out=new ArrayList<ProductSummaryWrapper>();
  if (result != null) {
    for (    Product product : result) {
      ProductSummaryWrapper wrapper=(ProductSummaryWrapper)context.getBean(ProductSummaryWrapper.class.getName());
      wrapper.wrap(product,request);
      out.add(wrapper);
    }
  }
  return out;
}
