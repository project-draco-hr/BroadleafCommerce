{
  List<OrderItem> chargeableItems=null;
  if (getQuantity() != 1) {
    int discountQty=getPromotionDiscountMismatchQuantity();
    if (discountQty != 0) {
      chargeableItems=new ArrayList<OrderItem>();
      OrderItem firstItem=clone();
      OrderItem secondItem=clone();
      chargeableItems.add(firstItem);
      chargeableItems.add(secondItem);
      int firstItemQty=discountQty;
      int secondItemQty=quantity - discountQty;
      firstItem.setQuantity(firstItemQty);
      secondItem.setQuantity(secondItemQty);
      for (      PromotionQualifier pq : promotionQualifiers) {
        if (pq.getQuantity() > firstItemQty) {
          PromotionQualifier pq1=pq.copy();
          pq1.resetQty(firstItemQty);
          firstItem.getPromotionQualifiers().add(pq1);
          PromotionQualifier pq2=pq.copy();
          pq2.resetQty(pq1.getQuantity() - firstItemQty);
          secondItem.getPromotionQualifiers().add(pq2);
        }
 else {
          firstItem.getPromotionQualifiers().add(pq);
        }
      }
      for (      PromotionDiscount pd : promotionDiscounts) {
        if (pd.getQuantity() > firstItemQty) {
          PromotionDiscount pd1=pd.copy();
          pd1.resetQty(firstItemQty);
          pd1.resetDiscountAmount(this);
          firstItem.getPromotionDiscounts().add(pd1);
          PromotionDiscount pd2=pd.copy();
          pd2.resetQty(pd1.getQuantity() - firstItemQty);
          secondItem.getPromotionDiscounts().add(pd2);
        }
 else {
          firstItem.getPromotionDiscounts().add(pd);
        }
      }
    }
  }
  return chargeableItems;
}
