{
  System.out.println("REBUILDING");
  SolrInputDocument doc1=new SolrInputDocument();
  doc1.addField("id","id1",1.0f);
  doc1.addField("name","doc1",1.0f);
  doc1.addField("price",10);
  SolrInputDocument doc2=new SolrInputDocument();
  doc2.addField("id","id2",1.0f);
  doc2.addField("name","doc2",1.0f);
  doc2.addField("price",20);
  Collection<SolrInputDocument> docs=new ArrayList<SolrInputDocument>();
  docs.add(doc1);
  docs.add(doc2);
  try {
    server.add(docs);
    server.commit();
    UpdateRequest req=new UpdateRequest();
    req.setAction(UpdateRequest.ACTION.COMMIT,false,false);
    req.add(docs);
    UpdateResponse rsp=req.process(server);
  }
 catch (  SolrServerException e) {
    throw new ServiceException("Could not rebuild index",e);
  }
}
