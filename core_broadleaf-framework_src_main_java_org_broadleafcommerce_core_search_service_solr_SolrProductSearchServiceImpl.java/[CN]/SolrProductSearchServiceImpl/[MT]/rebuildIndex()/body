{
  System.out.println("REBUILDING");
  SolrInputDocument doc1=new SolrInputDocument();
  doc1.addField("id_t","id1",1.0f);
  doc1.addField("name_t","doc1",1.0f);
  doc1.addField("price_d",10.0);
  SolrInputDocument doc2=new SolrInputDocument();
  doc2.addField("id_t","id2",1.0f);
  doc2.addField("name_t","doc2",1.0f);
  doc2.addField("price_d",20.0);
  Collection<SolrInputDocument> docs=new ArrayList<SolrInputDocument>();
  docs.add(doc1);
  docs.add(doc2);
  try {
    server.add(docs);
    server.commit();
    UpdateRequest req=new UpdateRequest();
    req.setAction(UpdateRequest.ACTION.COMMIT,false,false);
    req.add(docs);
    UpdateResponse rsp=req.process(server);
  }
 catch (  SolrServerException e) {
    throw new ServiceException("Could not rebuild index",e);
  }
}
