{
  BundleOrderItem item=(BundleOrderItem)orderItemDao.create(OrderItemType.BUNDLE);
  item.setQuantity(itemRequest.getQuantity());
  item.setCategory(itemRequest.getCategory());
  item.setName(itemRequest.getName());
  item.setPrice(new Money(0D));
  item.setRetailPrice(new Money(0D));
  item.setSalePrice(new Money(0D));
  for (  DiscreteOrderItemRequest discreteItemRequest : itemRequest.getDiscreteOrderItems()) {
    DiscreteOrderItem discreteOrderItem=createDiscreteOrderItem(discreteItemRequest);
    discreteOrderItem.setBundleOrderItem(item);
    item.getDiscreteOrderItems().add(discreteOrderItem);
    item.setPrice(item.getPrice().add(discreteOrderItem.getPrice()));
    if (discreteOrderItem.getSalePrice() != null)     item.setSalePrice(item.getSalePrice().add(discreteOrderItem.getSalePrice()));
    if (discreteOrderItem.getRetailPrice() != null)     item.setRetailPrice(item.getRetailPrice().add(discreteOrderItem.getRetailPrice()));
  }
  return item;
}
