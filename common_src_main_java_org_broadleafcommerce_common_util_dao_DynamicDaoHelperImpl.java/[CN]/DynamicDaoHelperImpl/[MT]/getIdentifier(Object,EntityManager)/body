{
  if (entity.getClass().getAnnotation(Entity.class) != null) {
    Field idField=getIdField(entity.getClass(),em);
    try {
      return (Serializable)idField.get(entity);
    }
 catch (    IllegalAccessException e) {
      throw ExceptionHelper.refineException(e);
    }
  }
  return null;
}
