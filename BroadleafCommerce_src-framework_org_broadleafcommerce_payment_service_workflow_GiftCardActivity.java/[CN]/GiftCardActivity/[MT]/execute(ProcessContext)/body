{
  CombinedPaymentContextSeed seed=((PaymentContext)context).getSeedData();
  Map<PaymentInfo,Referenced> infos=seed.getInfos();
  Iterator<PaymentInfo> itr=infos.keySet().iterator();
  while (itr.hasNext()) {
    PaymentInfo info=itr.next();
    if (info.getType().equals(BLCPaymentInfoType.GIFT_CARD)) {
switch (seed.getActionType()) {
case AUTHORIZE:
        giftCardService.authorize(info);
      break;
case AUTHORIZEANDDEBIT:
    giftCardService.authorizeAndDebit(info);
  break;
case BALANCE:
giftCardService.balance(info);
break;
case CREDIT:
giftCardService.credit(info);
break;
case DEBIT:
giftCardService.debit(info);
break;
case VOID:
giftCardService.voidPayment(info);
break;
default :
throw new PaymentException("Module does not support payment type of: " + seed.getActionType().toString());
}
}
}
return context;
}
