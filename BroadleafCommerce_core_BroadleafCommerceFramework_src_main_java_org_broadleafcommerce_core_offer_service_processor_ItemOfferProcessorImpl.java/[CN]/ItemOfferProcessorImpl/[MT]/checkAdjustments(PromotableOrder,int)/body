{
  if (appliedItemOffersCount > 0) {
    List<PromotableOrderItem> allSplitItems=order.getAllSplitItems();
    for (    PromotableOrderItem splitItem : allSplitItems) {
      if (splitItem.isHasOrderItemAdjustments()) {
        Money itemPrice=splitItem.getRetailPrice();
        if (splitItem.getSalePrice() != null) {
          itemPrice=splitItem.getSalePrice();
        }
        if (splitItem.getAdjustmentPrice().greaterThanOrEqual(itemPrice)) {
          int offersRemoved=splitItem.removeAllAdjustments();
          appliedItemOffersCount-=offersRemoved;
        }
      }
    }
    mergeSplitItems(order);
  }
  return appliedItemOffersCount;
}
