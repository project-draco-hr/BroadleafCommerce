{
  if (appliedItemOffersCount > 0) {
    List<OrderItem> allSplitItems=getAllSplitItems(order);
    for (    OrderItem splitItem : allSplitItems) {
      if (splitItem.isHasOrderItemAdjustments()) {
        Money itemPrice=splitItem.getRetailPrice();
        if (splitItem.getSalePrice() != null) {
          itemPrice=splitItem.getSalePrice();
        }
        if (splitItem.getAdjustmentPrice().greaterThanOrEqual(itemPrice)) {
          int offersRemoved=splitItem.removeAllAdjustments();
          appliedItemOffersCount-=offersRemoved;
        }
      }
    }
    mergeSplitItems(order);
  }
  return appliedItemOffersCount;
}
