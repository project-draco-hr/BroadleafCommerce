{
  Product newProduct=catalogService.findProductById(product.getId());
  List<Sku> skus=new ArrayList<Sku>(product.getAllSkus().size());
  skus.addAll(product.getAllSkus());
  product.getAllSkus().clear();
  for (int i=0; i < skus.size(); i++) {
    product.getAllSkus().add(catalogService.saveSku(skus.get(i)));
  }
  return catalogService.saveProduct(mendProductTrees(product));
}
