{
  if (customCriteria != null && customCriteria.length > 0) {
    LOG.warn("custom persistence handlers and custom criteria not supported for remove types other than ENTITY");
  }
  try {
    MapStructure mapStructure=(MapStructure)persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.MAPSTRUCTURE);
    Serializable instance=dynamicEntityDao.retrieve(Class.forName(entity.getType()[0]),Long.valueOf(entity.findProperty("symbolicId").getValue()));
    FieldManager fieldManager=getFieldManager();
    Map map=(Map)fieldManager.getFieldValue(instance,mapStructure.getMapProperty());
    Object value=map.remove(entity.findProperty("priorKey").getValue());
    if (mapStructure.getDeleteValueEntity()) {
      dynamicEntityDao.remove((Serializable)value);
    }
  }
 catch (  Exception e) {
    LOG.error("Problem editing entity",e);
    throw new ServiceException("Problem removing entity : " + e.getMessage(),e);
  }
}
