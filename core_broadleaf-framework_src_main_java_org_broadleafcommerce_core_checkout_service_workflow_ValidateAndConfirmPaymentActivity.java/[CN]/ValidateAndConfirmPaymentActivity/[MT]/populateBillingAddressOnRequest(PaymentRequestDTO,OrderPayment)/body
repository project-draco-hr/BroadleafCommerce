{
  if (payment != null && payment.getBillingAddress() != null) {
    Address address=payment.getBillingAddress();
    String addressLine2=address.getAddressLine2();
    if (StringUtils.isNotBlank(address.getAddressLine3())) {
      addressLine2=addressLine2 + " " + address.getAddressLine3();
    }
    String state=address.getState() != null ? address.getState().getAbbreviation() : null;
    String country=address.getCountry() != null ? address.getCountry().getAbbreviation() : null;
    String phone=address.getPhonePrimary() != null ? address.getPhonePrimary().getPhoneNumber() : null;
    requestDTO.billTo().addressFirstName(address.getFirstName()).addressLastName(address.getLastName()).addressLine1(address.getAddressLine1()).addressLine2(addressLine2).addressCityLocality(address.getCity()).addressStateRegion(state).addressPostalCode(address.getPostalCode()).addressCountryCode(country).addressEmail(address.getEmailAddress()).addressPhone(phone).addressCompanyName(address.getCompanyName()).done();
  }
}
