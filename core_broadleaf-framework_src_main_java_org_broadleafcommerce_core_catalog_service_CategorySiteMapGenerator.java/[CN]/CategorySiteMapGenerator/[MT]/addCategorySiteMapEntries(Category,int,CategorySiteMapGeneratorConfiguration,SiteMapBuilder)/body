{
  int rowOffset=0;
  List<Category> categories;
  do {
    categories=categoryDao.readActiveSubCategoriesByCategory(parentCategory,rowLimit,rowOffset);
    rowOffset+=categories.size();
    for (    Category category : categories) {
      if (StringUtils.isEmpty(category.getUrl())) {
        continue;
      }
      if (currentDepth < categorySMGC.getEndingDepth()) {
        addCategorySiteMapEntries(category,currentDepth + 1,categorySMGC,siteMapBuilder);
      }
      if (currentDepth < categorySMGC.getStartingDepth()) {
        continue;
      }
      constructSiteMapURL(categorySMGC,siteMapBuilder,category);
    }
  }
 while (categories.size() == rowLimit);
}
