{
  RollbackStateLocal rollbackStateLocal=getRollbackStateLocal();
  List<StateContainer> containers=stateMap.get(rollbackStateLocal.getThreadId() + "_" + rollbackStateLocal.getWorkflowId());
  if (containers != null) {
    Iterator<StateContainer> itr=containers.iterator();
    while (itr.hasNext()) {
      StateContainer stateContainer=itr.next();
      stateContainer.getRollbackHandler().rollbackState(stateContainer.getActivity(),stateContainer.getProcessContext(),stateContainer.getStateItems());
      itr.remove();
    }
  }
}
