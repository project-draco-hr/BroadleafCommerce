{
  String sectionKey=getSectionKey(pathVars);
  String mainClassName=getClassNameForSection(sectionKey);
  ClassMetadata mainMetadata=service.getClassMetadata(getSectionPersistencePackageRequest(mainClassName));
  Property collectionProperty=mainMetadata.getPMap().get(collectionField);
  FieldMetadata md=collectionProperty.getMetadata();
  PersistencePackageRequest ppr=PersistencePackageRequest.fromMetadata(md);
  ppr.addFilterAndSortCriteria(getCriteria(requestParams));
  if (md instanceof BasicFieldMetadata) {
    DynamicResultSet drs=service.getRecords(ppr);
    ListGrid listGrid=formService.buildCollectionListGrid(null,drs,collectionProperty,sectionKey);
    model.addAttribute("listGrid",listGrid);
    model.addAttribute("viewType","modal/simpleSelectEntity");
  }
  model.addAttribute("currentUrl",request.getRequestURL().toString());
  model.addAttribute("modalHeaderType","selectCollectionItem");
  model.addAttribute("collectionProperty",collectionProperty);
  setModelAttributes(model,sectionKey);
  return "modules/modalContainer";
}
