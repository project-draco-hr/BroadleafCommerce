{
  List<PageDTO> returnList=null;
  if (uri != null) {
    SandBox productionSandbox=null;
    if (currentSandbox != null && currentSandbox.getSite() != null) {
      productionSandbox=currentSandbox.getSite().getProductionSandbox();
    }
    String key=buildKey(productionSandbox,locale,uri);
    key=key + "-" + secure;
    returnList=getPageListFromCache(key);
    if (returnList == null) {
      if (LOG.isTraceEnabled()) {
        LOG.trace("Page not found in cache, searching DB for key: " + key);
      }
      List<Page> productionPages=pageDao.findPageByURI(productionSandbox,locale,uri);
      if (productionPages != null) {
        if (LOG.isTraceEnabled()) {
          LOG.trace("Pages found, adding pages to cache with key: " + key);
        }
        returnList=buildPageDTOList(productionPages,secure);
        Collections.sort(returnList,new BeanComparator("priority"));
        addPageListToCache(returnList,key);
      }
 else {
        if (LOG.isTraceEnabled()) {
          LOG.trace("No match found for passed in URI, locale, and sandbox.  Key = " + key);
        }
        addPageListToCache(EMPTY_PAGE_DTO,key);
      }
    }
    if (currentSandbox != null && !currentSandbox.getSandBoxType().equals(SandBoxType.PRODUCTION)) {
      List<Page> sandboxPages=pageDao.findPageByURI(currentSandbox,locale,uri);
      if (sandboxPages != null && sandboxPages.size() > 0) {
        returnList=mergePages(returnList,sandboxPages,secure);
      }
    }
  }
  return evaluatePageRules(returnList,ruleDTOs);
}
