{
  if (!SandBoxItemType.PAGE.equals(sandBoxItem.getSandBoxItemType())) {
    return;
  }
  Page page=pageDao.readPageById(sandBoxItem.getTemporaryItemId());
  if (page != null) {
    page.setArchivedFlag(Boolean.TRUE);
    page.setLockedFlag(false);
    pageDao.updatePage(page);
    if (page.getOriginalPageId() != null) {
      Page originalPage=pageDao.readPageById(page.getOriginalPageId());
      originalPage.setLockedFlag(false);
      pageDao.updatePage(originalPage);
    }
  }
}
