{
  List<Long> categoryIdList=catalogService.getChildCategoryURLMapByCategoryId(rootCategory.getId()).get(url);
  List<Category> categoryList=null;
  if (categoryIdList != null) {
    categoryList=new ArrayList<Category>(categoryIdList.size());
    for (    Long id : categoryIdList) {
      categoryList.add(catalogService.findCategoryById(id));
    }
  }
  if (categoryList == null) {
    categoryList=new ArrayList<Category>();
    while (currentCategory != null) {
      categoryList.add(currentCategory);
      currentCategory=currentCategory.getDefaultParentCategory();
    }
    Collections.reverse(categoryList);
  }
  return categoryList;
}
