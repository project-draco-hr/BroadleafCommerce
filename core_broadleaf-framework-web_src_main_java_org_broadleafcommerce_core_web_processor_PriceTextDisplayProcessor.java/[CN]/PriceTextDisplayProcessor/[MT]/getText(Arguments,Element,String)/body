{
  Money price;
  try {
    Expression expression=(Expression)StandardExpressions.getExpressionParser(arguments.getConfiguration()).parseExpression(arguments.getConfiguration(),arguments,element.getAttributeValue(attributeName));
    price=(Money)expression.execute(arguments.getConfiguration(),arguments);
  }
 catch (  ClassCastException e) {
    Expression expression=(Expression)StandardExpressions.getExpressionParser(arguments.getConfiguration()).parseExpression(arguments.getConfiguration(),arguments,element.getAttributeValue(attributeName));
    Number value=(Number)expression.execute(arguments.getConfiguration(),arguments);
    price=new Money(value.doubleValue());
  }
  if (price == null) {
    return "Not Available";
  }
  BroadleafRequestContext brc=BroadleafRequestContext.getBroadleafRequestContext();
  if (brc.getJavaLocale() != null) {
    NumberFormat format=NumberFormat.getCurrencyInstance(brc.getJavaLocale());
    format.setCurrency(price.getCurrency());
    return format.format(price.getAmount());
  }
 else {
    return "$ " + price.getAmount().toString();
  }
}
