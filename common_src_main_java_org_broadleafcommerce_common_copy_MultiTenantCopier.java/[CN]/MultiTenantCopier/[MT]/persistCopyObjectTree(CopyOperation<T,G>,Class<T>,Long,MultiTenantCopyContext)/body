{
  try {
    if (context.getEquivalentId(clazz.getName(),id) != null) {
      return;
    }
    context.clearOriginalIdentifiers();
    genericEntityService.flush();
    genericEntityService.clear();
    genericEntityService.clearAutoFlushMode();
    Object copy=copyOperation.execute(genericEntityService.readGenericEntity(clazz,id));
    persistCopyObjectTreeInternal(copy,new HashSet<Integer>(),context);
    genericEntityService.flush();
  }
 catch (  Exception e) {
    LOG.error("Unable to persist the copy object tree",e);
    throw ExceptionHelper.refineException(e);
  }
 finally {
    context.clearOriginalIdentifiers();
    genericEntityService.clear();
    genericEntityService.enableAutoFlushMode();
  }
}
