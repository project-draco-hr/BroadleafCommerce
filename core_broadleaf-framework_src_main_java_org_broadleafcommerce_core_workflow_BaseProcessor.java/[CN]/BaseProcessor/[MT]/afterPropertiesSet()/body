{
  if (!(beanFactory instanceof ListableBeanFactory)) {
    throw new BeanInitializationException("The workflow processor [" + beanName + "] "+ "is not managed by a ListableBeanFactory, please re-deploy using some derivative of ListableBeanFactory such as"+ "ClassPathXmlApplicationContext ");
  }
  if (activities == null || activities.isEmpty()) {
    throw new UnsatisfiedDependencyException(getBeanDesc(),beanName,"activities","No activities were wired for this workflow");
  }
  for (Iterator<Activity> iter=activities.iterator(); iter.hasNext(); ) {
    Activity activitiy=iter.next();
    if (!supports(activitiy))     throw new BeanInitializationException("The workflow processor [" + beanName + "] does "+ "not support the activity of type"+ activitiy.getClass().getName());
  }
}
