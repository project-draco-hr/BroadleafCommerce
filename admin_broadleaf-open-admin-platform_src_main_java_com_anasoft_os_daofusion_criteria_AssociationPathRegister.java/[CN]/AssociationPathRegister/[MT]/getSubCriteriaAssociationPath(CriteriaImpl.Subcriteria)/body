{
  List<AssociationPathElement> elementList=new ArrayList<AssociationPathElement>();
  elementList.add(new AssociationPathElement(subCriteria.getPath()));
  CriteriaImpl.Subcriteria currentSubCriteria=subCriteria;
  while (currentSubCriteria.getParent() != null && CriteriaImpl.Subcriteria.class.isAssignableFrom(currentSubCriteria.getParent().getClass())) {
    currentSubCriteria=CriteriaImpl.Subcriteria.class.cast(currentSubCriteria.getParent());
    elementList.add(0,new AssociationPathElement(currentSubCriteria.getPath()));
  }
  return new AssociationPath(elementList.toArray(new AssociationPathElement[0]));
}
