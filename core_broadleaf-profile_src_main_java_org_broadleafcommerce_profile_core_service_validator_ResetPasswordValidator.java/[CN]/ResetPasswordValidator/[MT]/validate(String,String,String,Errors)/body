{
  if (password == null || "".equals(password)) {
    errors.reject("password","password.required");
  }
  if (username == null || "".equals(username)) {
    errors.reject("username","username.required");
  }
  if (!errors.hasErrors()) {
    if (!password.matches(validPasswordRegex)) {
      errors.rejectValue("password","password.invalid",null,null);
    }
 else {
      if (!password.equals(confirmPassword)) {
        errors.rejectValue("password","passwordConfirm.invalid",null,null);
      }
    }
  }
}
