{
  ContentDetails contentDetails=contentDetailsDao.readContentDetailsById(content.getId());
  if (contentDetails == null) {
    contentDetails=new ContentDetailsImpl();
  }
  String xmlContent=constructXmlContent(details);
  if (xmlContent != null) {
    contentDetails.setXmlContent(xmlContent);
    try {
      contentDetails.setContentHash(SHA1(xmlContent));
    }
 catch (    NoSuchAlgorithmException e) {
      LOG.error("NoSuchAlgorithmException",e);
    }
catch (    UnsupportedEncodingException e) {
      LOG.error("UnsupportedEncodingException",e);
    }
    Content saved=contentDao.saveContent(content);
    contentDetails.setId(saved.getId());
    contentDetailsDao.save(contentDetails);
  }
  return null;
}
