{
  PersistencePerspective persistencePerspective=persistencePackage.getPersistencePerspective();
  HashMap<String,FieldMetadata> originalProps=(HashMap<String,FieldMetadata>)dynamicEntityDao.getMergedProperties(StaticAsset.class.getName(),entityClasses,(ForeignKey)persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY),persistencePerspective.getAdditionalNonPersistentProperties(),persistencePerspective.getAdditionalForeignKeys(),MergedPropertyType.PRIMARY,persistencePerspective.getPopulateToOneFields(),persistencePerspective.getIncludeFields(),persistencePerspective.getExcludeFields(),persistencePerspective.getConfigurationKey(),"");
  mergedProperties=(HashMap<String,FieldMetadata>)SerializationUtils.clone(originalProps);
  FieldMetadata fieldMetadata=new FieldMetadata();
  fieldMetadata.setFieldType(SupportedFieldType.UPLOAD);
  fieldMetadata.setMutable(true);
  fieldMetadata.setInheritedFromType(StaticAssetImpl.class.getName());
  fieldMetadata.setAvailableToTypes(new String[]{StaticAssetImpl.class.getName(),ImageStaticAssetImpl.class.getName()});
  fieldMetadata.setCollection(false);
  fieldMetadata.setMergedPropertyType(MergedPropertyType.PRIMARY);
  FieldPresentationAttributes attributes=new FieldPresentationAttributes();
  fieldMetadata.setPresentationAttributes(attributes);
  attributes.setName("file");
  attributes.setFriendlyName("File");
  attributes.setGroup("Upload");
  attributes.setExplicitFieldType(SupportedFieldType.UNKNOWN);
  attributes.setProminent(false);
  attributes.setBroadleafEnumeration("");
  attributes.setReadOnly(false);
  attributes.setVisibility(VisibilityEnum.HIDDEN_ALL);
  attributes.setRequiredOverride(true);
  mergedProperties.put("file",fieldMetadata);
  FieldMetadata iconMetadata=new FieldMetadata();
  iconMetadata.setFieldType(SupportedFieldType.ASSET);
  iconMetadata.setMutable(true);
  iconMetadata.setInheritedFromType(StaticAssetImpl.class.getName());
  iconMetadata.setAvailableToTypes(new String[]{StaticAssetImpl.class.getName(),ImageStaticAssetImpl.class.getName()});
  iconMetadata.setCollection(false);
  iconMetadata.setMergedPropertyType(MergedPropertyType.PRIMARY);
  FieldPresentationAttributes iconAttributes=new FieldPresentationAttributes();
  iconMetadata.setPresentationAttributes(iconAttributes);
  iconAttributes.setName("picture");
  iconAttributes.setFriendlyName(" ");
  iconAttributes.setGroup("Asset Details");
  iconAttributes.setExplicitFieldType(SupportedFieldType.UNKNOWN);
  iconAttributes.setProminent(true);
  iconAttributes.setBroadleafEnumeration("");
  iconAttributes.setReadOnly(false);
  iconAttributes.setVisibility(VisibilityEnum.FORM_HIDDEN);
  iconAttributes.setColumnWidth("25");
  iconAttributes.setOrder(0);
  iconAttributes.setRequiredOverride(true);
  mergedProperties.put("picture",iconMetadata);
  FieldMetadata iconLargeMetadata=new FieldMetadata();
  iconLargeMetadata.setFieldType(SupportedFieldType.ASSET);
  iconLargeMetadata.setMutable(true);
  iconLargeMetadata.setInheritedFromType(StaticAssetImpl.class.getName());
  iconLargeMetadata.setAvailableToTypes(new String[]{StaticAssetImpl.class.getName(),ImageStaticAssetImpl.class.getName()});
  iconLargeMetadata.setCollection(false);
  iconLargeMetadata.setMergedPropertyType(MergedPropertyType.PRIMARY);
  FieldPresentationAttributes iconLargeAttributes=new FieldPresentationAttributes();
  iconLargeMetadata.setPresentationAttributes(iconLargeAttributes);
  iconLargeAttributes.setName("pictureLarge");
  iconLargeAttributes.setFriendlyName("Preview");
  iconLargeAttributes.setGroup("Preview");
  iconLargeAttributes.setExplicitFieldType(SupportedFieldType.UNKNOWN);
  iconLargeAttributes.setProminent(false);
  iconLargeAttributes.setBroadleafEnumeration("");
  iconLargeAttributes.setReadOnly(true);
  iconLargeAttributes.setVisibility(VisibilityEnum.VISIBLE_ALL);
  iconLargeAttributes.setRequiredOverride(true);
  iconLargeAttributes.setOrder(0);
  iconLargeAttributes.setGroupOrder(0);
  mergedProperties.put("pictureLarge",iconLargeMetadata);
  mergedProperties.put("callbackName",createHiddenField("callbackName"));
  mergedProperties.put("operation",createHiddenField("operation"));
  mergedProperties.put("sandbox",createHiddenField("sandbox"));
  mergedProperties.put("ceilingEntityFullyQualifiedClassname",createHiddenField("ceilingEntityFullyQualifiedClassname"));
  mergedProperties.put("parentFolder",createHiddenField("parentFolder"));
  mergedProperties.put("idHolder",createHiddenField("idHolder"));
  mergedProperties.put("customCriteria",createHiddenField("customCriteria"));
}
