{
  CriteriaQuery<Product> criteria=getCriteriaForActiveProducts(currentDate);
  int firstResult=page * pageSize;
  return (List<Product>)em.createQuery(criteria).setFirstResult(firstResult).setMaxResults(pageSize).getResultList();
}
