{
  CriteriaQuery<Product> criteria=getCriteriaForActiveProducts(currentDate);
  return (List<Product>)em.createQuery(criteria).getResultList();
}
