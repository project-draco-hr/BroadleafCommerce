{
  if (customerPhoneId == null) {
    return viewPhoneSuccessUrl;
  }
 else {
    Long currCustomerId=customerState.getCustomerId(request);
    CustomerPhone cPhone=customerPhoneService.readCustomerPhoneByIdAndCustomerId(customerPhoneId,currCustomerId);
    if (cPhone != null) {
      if (!cPhone.getCustomerId().equals(currCustomerId)) {
        return viewPhoneErrorUrl;
      }
      phoneNameForm.setPhone(cPhone.getPhone());
      phoneNameForm.setPhoneName(cPhone.getPhoneName());
      request.setAttribute("customerPhoneId",cPhone.getId());
      request.setAttribute("phoneId",cPhone.getPhone().getId());
      return viewPhoneSuccessUrl;
    }
 else {
      return viewPhoneErrorUrl;
    }
  }
}
