{
  Money regularOrderDiscountShippingTotal=org.broadleafcommerce.common.currency.domain.BroadleafCurrencyImpl.getMoney(0D,order.getDelegate().getCurrency());
  regularOrderDiscountShippingTotal=regularOrderDiscountShippingTotal.add(order.calculateOrderItemsPriceWithoutAdjustments());
  for (  PromotableFulfillmentGroup fg : order.getFulfillmentGroups()) {
    regularOrderDiscountShippingTotal=regularOrderDiscountShippingTotal.add(fg.getAdjustmentPrice());
  }
  Money discountOrderRegularShippingTotal=org.broadleafcommerce.common.currency.domain.BroadleafCurrencyImpl.getMoney(0D,order.getDelegate().getCurrency());
  discountOrderRegularShippingTotal=discountOrderRegularShippingTotal.add(order.getSubTotal());
  for (  PromotableFulfillmentGroup fg : order.getFulfillmentGroups()) {
    discountOrderRegularShippingTotal=discountOrderRegularShippingTotal.add(fg.getPriceBeforeAdjustments(true));
  }
  if (discountOrderRegularShippingTotal.lessThan(regularOrderDiscountShippingTotal)) {
    order.removeAllFulfillmentAdjustments();
    fgOfferApplied=false;
  }
 else {
    order.removeAllOrderAdjustments();
    order.removeAllItemAdjustments();
    gatherCart(order);
    initializeSplitItems(order);
  }
  return fgOfferApplied;
}
