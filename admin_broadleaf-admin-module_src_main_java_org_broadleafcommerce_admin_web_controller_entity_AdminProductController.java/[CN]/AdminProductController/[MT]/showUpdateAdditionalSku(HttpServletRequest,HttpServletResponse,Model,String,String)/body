{
  String collectionField="additionalSkus";
  String mainClassName=getClassNameForSection(SECTION_KEY);
  ClassMetadata mainMetadata=service.getClassMetadata(getSectionPersistencePackageRequest(mainClassName));
  Property collectionProperty=mainMetadata.getPMap().get(collectionField);
  FieldMetadata md=collectionProperty.getMetadata();
  PersistencePackageRequest ppr=PersistencePackageRequest.fromMetadata(md);
  ClassMetadata collectionMetadata=service.getClassMetadata(ppr);
  Entity entity=service.getRecord(ppr,collectionItemId,collectionMetadata);
  Map<String,Entity[]> subRecordsMap=service.getRecordsForAllSubCollections(ppr,entity);
  EntityForm entityForm=formService.buildEntityForm(collectionMetadata,entity,subRecordsMap);
  entityForm.getActions().remove(DefaultEntityFormActions.DELETE);
  for (  ListGrid lg : entityForm.getAllListGrids()) {
    lg.setSectionKey("org.broadleafcommerce.core.catalog.domain.Sku");
  }
  model.addAttribute("entityForm",entityForm);
  model.addAttribute("viewType","modal/simpleEditEntity");
  model.addAttribute("currentUrl",request.getRequestURL().toString());
  model.addAttribute("modalHeaderType","updateCollectionItem");
  setModelAttributes(model,SECTION_KEY);
  return "modules/modalContainer";
}
