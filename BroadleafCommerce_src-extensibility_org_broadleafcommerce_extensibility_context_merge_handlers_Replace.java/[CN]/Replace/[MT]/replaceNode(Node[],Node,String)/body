{
  Comparator<Node> idCompare=new Comparator<Node>(){
    @Override public int compare(    Node arg0,    Node arg1){
      Node id1=arg0.getAttributes().getNamedItem(attribute);
      Node id2=arg1.getAttributes().getNamedItem(attribute);
      if (id1 == null || id2 == null)       return -1;
      return id1.getNodeValue().compareTo(id2.getNodeValue());
    }
  }
;
  Arrays.sort(primaryNodes,idCompare);
  int pos=Arrays.binarySearch(primaryNodes,testNode,idCompare);
  if (pos >= 0) {
    primaryNodes[pos].getParentNode().replaceChild(primaryNodes[pos].getOwnerDocument().importNode(testNode.cloneNode(true),true),primaryNodes[pos]);
    return true;
  }
  return false;
}
