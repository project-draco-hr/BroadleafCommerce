{
  exploitProtectionService.compareSessionToken(sessionToken);
  ServletRequestAttributes attributes=(ServletRequestAttributes)RequestContextHolder.currentRequestAttributes();
  UploadProgressListener progressListener=(UploadProgressListener)attributes.getRequest().getSession().getAttribute(callbackName);
  return progressListener == null ? 0D : progressListener.getPercentDone();
}
