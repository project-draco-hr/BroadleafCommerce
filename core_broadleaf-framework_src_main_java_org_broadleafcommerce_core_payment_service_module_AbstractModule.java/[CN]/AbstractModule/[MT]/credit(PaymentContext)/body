{
  Money amountAvailableToCredit=getAmountAvailableToCredit(paymentContext);
  PaymentInfo paymentInfo=findPaymentInfoFromContext(paymentContext);
  PaymentResponseItem responseItem=getNewResponseItem(amountAvailableToCredit,paymentInfo.getCurrency());
  paymentInfo.getPaymentInfoDetails().add(getNewRefundPaymentInfoDetail(paymentInfo,amountAvailableToCredit));
  return processCredit(paymentContext,amountAvailableToCredit,responseItem);
}
