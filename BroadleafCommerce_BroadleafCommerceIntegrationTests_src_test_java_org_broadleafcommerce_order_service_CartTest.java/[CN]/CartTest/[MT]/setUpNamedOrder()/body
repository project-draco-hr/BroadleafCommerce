{
  Customer customer=customerService.saveCustomer(customerService.createCustomerFromId(null));
  Category category=new CategoryImpl();
  category.setName("Boxes");
  category=catalogService.saveCategory(category);
  Product newProduct=new ProductImpl();
  Calendar activeStartCal=Calendar.getInstance();
  activeStartCal.add(Calendar.DAY_OF_YEAR,-2);
  newProduct.setActiveStartDate(activeStartCal.getTime());
  newProduct.setDefaultCategory(category);
  newProduct.setName("Cube Box");
  newProduct=catalogService.saveProduct(newProduct);
  Sku newSku=new SkuImpl();
  newSku.setName("Small Cube Box");
  newSku.setRetailPrice(new Money(44.99));
  newSku.setActiveStartDate(activeStartCal.getTime());
  newSku.setDiscountable(true);
  newSku=catalogService.saveSku(newSku);
  List<Sku> allSkus=new ArrayList<Sku>();
  allSkus.add(newSku);
  newProduct.setAllSkus(allSkus);
  newProduct=catalogService.saveProduct(newProduct);
  Order order=orderService.createNamedOrderForCustomer("Boxes Named Order",customer);
  orderService.addSkuToOrder(order.getId(),newSku.getId(),newProduct.getId(),category.getId(),2);
  return order;
}
