{
  List<CustomerAddress> activeCustomerAddresses=readActiveCustomerAddressesByCustomerId(customerAddress.getCustomerId());
  if (activeCustomerAddresses.size() == 0) {
    customerAddress.getAddress().setDefault(true);
  }
 else {
    if (customerAddress.getAddress().isDefault()) {
      for (      CustomerAddress activeCustomerAddress : activeCustomerAddresses) {
        if (activeCustomerAddress.getId() != customerAddress.getId() && activeCustomerAddress.getAddress().isDefault()) {
          activeCustomerAddress.getAddress().setDefault(false);
          customerAddressDao.maintainCustomerAddress(activeCustomerAddress);
        }
      }
    }
  }
  return customerAddressDao.maintainCustomerAddress(customerAddress);
}
