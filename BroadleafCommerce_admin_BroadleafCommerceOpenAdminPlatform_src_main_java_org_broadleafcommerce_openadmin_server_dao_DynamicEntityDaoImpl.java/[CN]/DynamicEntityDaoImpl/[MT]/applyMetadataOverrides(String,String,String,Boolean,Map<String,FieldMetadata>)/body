{
  if (metadataOverrides != null && configurationKey != null) {
    Map<String,Map<String,FieldMetadata>> configuredOverrides=metadataOverrides.get(configurationKey);
    if (configuredOverrides != null) {
      Map<String,FieldMetadata> entityOverrides=configuredOverrides.get(ceilingEntityFullyQualifiedClassname);
      if (entityOverrides != null) {
        for (        String propertyName : entityOverrides.keySet()) {
          FieldMetadata localMetadata=entityOverrides.get(propertyName);
          Boolean excluded=localMetadata.getPresentationAttributes().getExcluded();
          if (excluded == null) {
            excluded=false;
          }
          for (          String key : mergedProperties.keySet()) {
            String testKey=prefix + key;
            if ((testKey.startsWith(propertyName + ".") || testKey.equals(propertyName)) && excluded) {
              FieldMetadata metadata=mergedProperties.get(key);
              FieldPresentationAttributes attr=metadata.getPresentationAttributes();
              if (attr == null) {
                metadata.setPresentationAttributes(new FieldPresentationAttributes());
                attr=metadata.getPresentationAttributes();
              }
              attr.setExcluded(true);
              continue;
            }
            if ((testKey.startsWith(propertyName + ".") || testKey.equals(propertyName)) && !excluded) {
              FieldMetadata metadata=mergedProperties.get(key);
              FieldPresentationAttributes attr=metadata.getPresentationAttributes();
              if (attr == null) {
                metadata.setPresentationAttributes(new FieldPresentationAttributes());
                attr=metadata.getPresentationAttributes();
              }
              if (!isParentExcluded) {
                attr.setExcluded(false);
              }
            }
            if (key.equals(propertyName)) {
              FieldMetadata serverMetadata=mergedProperties.get(key);
              if (localMetadata.getPresentationAttributes().getFriendlyName() != null) {
                serverMetadata.getPresentationAttributes().setFriendlyName(localMetadata.getPresentationAttributes().getFriendlyName());
              }
              if (localMetadata.getPresentationAttributes().getSecurityLevel() != null) {
                serverMetadata.getPresentationAttributes().setSecurityLevel(localMetadata.getPresentationAttributes().getSecurityLevel());
              }
              if (localMetadata.getPresentationAttributes().isHidden() != null) {
                serverMetadata.getPresentationAttributes().setHidden(localMetadata.getPresentationAttributes().isHidden());
              }
              if (localMetadata.getPresentationAttributes().getFormHidden() != null) {
                serverMetadata.getPresentationAttributes().setFormHidden(localMetadata.getPresentationAttributes().getFormHidden());
              }
              if (localMetadata.getPresentationAttributes().getOrder() != null) {
                serverMetadata.getPresentationAttributes().setOrder(localMetadata.getPresentationAttributes().getOrder());
              }
              if (localMetadata.getPresentationAttributes().getExplicitFieldType() != null) {
                serverMetadata.getPresentationAttributes().setExplicitFieldType(localMetadata.getPresentationAttributes().getExplicitFieldType());
              }
              if (localMetadata.getPresentationAttributes().getGroup() != null) {
                serverMetadata.getPresentationAttributes().setGroup(localMetadata.getPresentationAttributes().getGroup());
              }
              if (localMetadata.getPresentationAttributes().getGroupCollapsed() != null) {
                serverMetadata.getPresentationAttributes().setGroupCollapsed(localMetadata.getPresentationAttributes().getGroupCollapsed());
              }
              if (localMetadata.getPresentationAttributes().getGroupOrder() != null) {
                serverMetadata.getPresentationAttributes().setGroupOrder(localMetadata.getPresentationAttributes().getGroupOrder());
              }
              if (localMetadata.getPresentationAttributes().isLargeEntry() != null) {
                serverMetadata.getPresentationAttributes().setLargeEntry(localMetadata.getPresentationAttributes().isLargeEntry());
              }
              if (localMetadata.getPresentationAttributes().isProminent() != null) {
                serverMetadata.getPresentationAttributes().setProminent(localMetadata.getPresentationAttributes().isProminent());
              }
              if (localMetadata.getPresentationAttributes().getColumnWidth() != null) {
                serverMetadata.getPresentationAttributes().setColumnWidth(localMetadata.getPresentationAttributes().getColumnWidth());
              }
              if (localMetadata.getPresentationAttributes().getBroadleafEnumeration() != null) {
                serverMetadata.getPresentationAttributes().setBroadleafEnumeration(localMetadata.getPresentationAttributes().getBroadleafEnumeration());
              }
              if (localMetadata.getPresentationAttributes().getReadOnly() != null) {
                serverMetadata.getPresentationAttributes().setReadOnly(localMetadata.getPresentationAttributes().getReadOnly());
              }
              if (localMetadata.getPresentationAttributes().getExcluded() != null) {
                serverMetadata.getPresentationAttributes().setExcluded(localMetadata.getPresentationAttributes().getExcluded());
              }
              if (isParentExcluded) {
                serverMetadata.getPresentationAttributes().setExcluded(true);
              }
              if (localMetadata.getPresentationAttributes().getRequiredOverride() != null) {
                serverMetadata.getPresentationAttributes().setRequiredOverride(localMetadata.getPresentationAttributes().getRequiredOverride());
              }
              if (localMetadata.getPresentationAttributes().getValidationConfigurations() != null) {
                serverMetadata.getPresentationAttributes().setValidationConfigurations(localMetadata.getPresentationAttributes().getValidationConfigurations());
              }
            }
          }
        }
      }
    }
  }
}
