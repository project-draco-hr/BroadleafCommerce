{
  Order cart=CartState.getCart();
  if (cart != null && cart.getFulfillmentGroups() != null && !cart.getFulfillmentGroups().isEmpty()) {
    List<FulfillmentGroup> fulfillmentGroups=cart.getFulfillmentGroups();
    List<FulfillmentGroupWrapper> fulfillmentGroupWrappers=new ArrayList<FulfillmentGroupWrapper>();
    for (    FulfillmentGroup fulfillmentGroup : fulfillmentGroups) {
      FulfillmentGroupWrapper fulfillmentGroupWrapper=(FulfillmentGroupWrapper)context.getBean(FulfillmentGroupWrapper.class.getName());
      fulfillmentGroupWrapper.wrap(fulfillmentGroup,request);
      fulfillmentGroupWrappers.add(fulfillmentGroupWrapper);
    }
    return fulfillmentGroupWrappers;
  }
  throw new WebApplicationException(Response.status(Response.Status.NOT_FOUND).type(MediaType.TEXT_PLAIN).entity("Cart could not be found").build());
}
