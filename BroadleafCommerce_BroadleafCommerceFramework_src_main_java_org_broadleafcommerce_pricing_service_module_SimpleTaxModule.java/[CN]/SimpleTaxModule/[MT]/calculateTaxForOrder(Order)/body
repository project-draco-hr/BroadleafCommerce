{
  Money totalTax=order.getSubTotal().multiply(factor);
  for (  FulfillmentGroup fulfillmentGroup : order.getFulfillmentGroups()) {
    Money fgTotalTax=fulfillmentGroup.getShippingPrice().multiply(factor);
    fulfillmentGroup.setTotalTax(fgTotalTax);
    fulfillmentGroup.setCityTax(new Money(0D));
    fulfillmentGroup.setCountyTax(new Money(0D));
    fulfillmentGroup.setCountryTax(new Money(0D));
    totalTax=totalTax.add(fgTotalTax);
  }
  order.setTotalTax(totalTax);
  return order;
}
