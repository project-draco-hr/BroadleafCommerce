{
  initializeTypeMap();
  if (lookupType instanceof Class) {
    Class<?> clz=typeMap.get(((Class)lookupType).getName());
    if (clz == null) {
      return null;
    }
    if (Collection.class.isAssignableFrom(type)) {
      Type[] paramType={clz};
      return new ParameterizedTypeImpl(paramType,type,null);
    }
 else     if (type.isArray()) {
      return Array.newInstance(clz,0).getClass();
    }
 else {
      return clz;
    }
  }
  return null;
}
