{
  Map<String,Object> apiWrappers=applicationContext.getBeansWithAnnotation(XmlRootElement.class);
  Set<String> keySet=apiWrappers.keySet();
  for (  String key : keySet) {
    if (key.equals(((Class)lookupType).getName())) {
      if (Collection.class.isAssignableFrom(type)) {
        Type[] paramType={apiWrappers.get(key).getClass()};
        return new ParameterizedTypeImpl(paramType,type,null);
      }
 else       if (type.isArray()) {
        return Array.newInstance(apiWrappers.get(key).getClass(),0).getClass();
      }
 else {
        return apiWrappers.get(key).getClass();
      }
    }
  }
  return null;
}
