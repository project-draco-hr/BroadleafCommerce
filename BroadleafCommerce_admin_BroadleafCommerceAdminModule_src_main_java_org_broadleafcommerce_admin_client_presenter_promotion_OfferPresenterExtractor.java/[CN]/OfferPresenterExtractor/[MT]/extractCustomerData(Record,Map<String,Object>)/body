{
  if (getDisplay().getCustomerRuleRadio().getValue().equals("CUSTOMER_RULE")) {
    if (!presenter.initializer.customerRuleIncompatible) {
      setData(selectedRecord,"appliesToCustomerRules",TRANSLATOR.createMVEL(MVELKEYWORDMAP.get(FilterType.CUSTOMER),getDisplay().getCustomerFilterBuilder().getCriteria(),getDisplay().getCustomerFilterBuilder().getDataSource()),dirtyValues);
    }
 else {
      setData(selectedRecord,"appliesToCustomerRules",getDisplay().getRawCustomerTextArea().getValue(),dirtyValues);
    }
  }
 else {
    Object value=null;
    setData(selectedRecord,"appliesToCustomerRules",value,dirtyValues);
    getDisplay().getCustomerFilterBuilder().clearCriteria();
    getDisplay().getRawCustomerTextArea().setValue("");
  }
}
