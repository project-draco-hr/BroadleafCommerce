{
  if (fulfillmentGroup.getFulfillmentOption() == null) {
    fulfillmentGroup.setRetailShippingPrice(new Money(0D));
    fulfillmentGroup.setShippingPrice(new Money(0D));
    fulfillmentGroup.setSaleShippingPrice(new Money(0D));
    return fulfillmentGroup;
  }
  for (  FulfillmentPricingProvider processor : providers) {
    if (processor.canCalculateCostForFulfillmentGroup(fulfillmentGroup,fulfillmentGroup.getFulfillmentOption())) {
      return processor.calculateCostForFulfillmentGroup(fulfillmentGroup);
    }
  }
  throw new ShippingPriceException("No valid processor was found to calculate the FulfillmentGroup cost with " + "FulfillmentOption id: " + fulfillmentGroup.getFulfillmentOption().getId() + " and name: "+ fulfillmentGroup.getFulfillmentOption().getName());
}
