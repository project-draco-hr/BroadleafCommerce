{
  PaymentInfo paymentInfoToRemove=null;
  for (  PaymentInfo info : order.getPaymentInfos()) {
    if (info.equals(paymentInfo)) {
      paymentInfoToRemove=info;
    }
  }
  if (paymentInfoToRemove != null) {
    try {
      securePaymentInfoService.findAndRemoveSecurePaymentInfo(paymentInfoToRemove.getReferenceNumber(),paymentInfo.getType());
    }
 catch (    WorkflowException e) {
      LOG.debug("No secure payment is associated with the PaymentInfo",e);
    }
    order.getPaymentInfos().remove(paymentInfoToRemove);
    paymentInfo=paymentInfoDao.readPaymentInfoById(paymentInfoToRemove.getId());
    paymentInfoDao.delete(paymentInfo);
  }
}
