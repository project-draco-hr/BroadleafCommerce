{
  Order order=((OfferContext)context).getSeedData();
  Money subTotal=new Money(BigDecimal.ZERO);
  List<OrderItem> orderItems=orderService.findItemsForOrder(order);
  for (  OrderItem orderItem : orderItems) {
    subTotal.add(orderItem.getPrice().multiply(new BigDecimal(orderItem.getQuantity())));
  }
  order.setSubTotal(subTotal);
  context.setSeedData(order);
  return context;
}
