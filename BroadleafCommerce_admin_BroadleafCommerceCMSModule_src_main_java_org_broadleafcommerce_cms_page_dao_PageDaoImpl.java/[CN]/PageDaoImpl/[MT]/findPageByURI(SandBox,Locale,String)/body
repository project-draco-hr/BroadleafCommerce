{
  String[] pathElements=uri.split("//");
  String pageName=pathElements[pathElements.length - 1];
  Query query=null;
  if (sandBox == null) {
    query=em.createNamedQuery("BC_READ_PAGE_BY_URI");
    query.setParameter("uri",uri);
    query.setParameter("locale",locale);
  }
 else   if (SandBoxType.PRODUCTION.equals(sandBox)) {
    query=em.createNamedQuery("BC_READ_PAGE_BY_URI_AND_PRODUCTION_SANDBOX");
    query.setParameter("sandbox",sandBox);
    query.setParameter("locale",locale);
    query.setParameter("uri",uri);
  }
 else {
    query=em.createNamedQuery("BC_READ_PAGE_BY_URI_AND_USER_SANDBOX");
    query.setParameter("sandbox",sandBox);
    query.setParameter("locale",locale);
    query.setParameter("uri",uri);
  }
  query.setHint(queryCacheableKey,true);
  List<Page> results=query.getResultList();
  if (results != null && results.size() > 0) {
    return results.get(0);
  }
 else {
    return null;
  }
}
