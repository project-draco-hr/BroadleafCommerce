{
  String queryPrefix="BC_READ_";
  if (parentFolder == null) {
    queryPrefix="BC_READ_NULL_";
  }
  Query query=em.createNamedQuery(queryPrefix + "PAGE_FOLDER_CHILD_PAGES");
  if (parentFolder != null) {
    query.setParameter("parentFolder",parentFolder);
  }
  query.setParameter("userSandbox",userSandBox == null ? DUMMY_SANDBOX : userSandBox);
  query.setParameter("productionSandbox",productionSandBox == null ? DUMMY_SANDBOX : productionSandBox);
  query.setParameter("localeCode",localeCode);
  List<Page> childPages=query.getResultList();
  filterPagesForSandbox(userSandBox,productionSandBox,childPages);
  Query query2=em.createNamedQuery(queryPrefix + "PAGE_FOLDER_CHILD_FOLDERS");
  if (parentFolder != null) {
    query2.setParameter("parentFolder",parentFolder);
  }
  List<PageFolder> childFolders=query2.getResultList();
  childFolders.addAll(childPages);
  return childFolders;
}
