{
  if (userSandBox != null) {
    List<Long> removeIds=new ArrayList<Long>();
    for (    Page page : pageList) {
      if (page.getOriginalPageId() != null) {
        removeIds.add(page.getOriginalPageId());
      }
      if (page.getDeletedFlag()) {
        removeIds.add(page.getId());
      }
    }
    Iterator<Page> pageIterator=pageList.iterator();
    while (pageIterator.hasNext()) {
      Page page=pageIterator.next();
      if (removeIds.contains(page.getId())) {
        pageIterator.remove();
      }
    }
  }
}
