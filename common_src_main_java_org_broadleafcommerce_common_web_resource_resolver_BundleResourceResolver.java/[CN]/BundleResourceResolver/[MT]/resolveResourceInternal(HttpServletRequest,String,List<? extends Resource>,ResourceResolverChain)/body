{
  if (requestPath != null) {
    if (isBundleFile(requestPath)) {
      try {
        blcContextUtil.establishThinRequestContext();
        Resource bundle=bundlingService.resolveBundleResource(requestPath);
        if (bundle != null && bundle.exists()) {
          return bundle;
        }
      }
  finally {
        blcContextUtil.clearThinRequestContext();
      }
    }
  }
  return chain.resolveResource(request,requestPath,locations);
}
