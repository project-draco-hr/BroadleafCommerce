{
  if (requestPath != null && requestPath.contains("BDL")) {
    blcContextUtil.establishThinRequestContext();
    String bundleRequestPath=requestPath;
    if (requestPath.contains(".css")) {
      bundleRequestPath="/css/" + requestPath;
    }
 else     if (requestPath.contains(".js")) {
      bundleRequestPath="/js/" + requestPath;
    }
    Resource bundle=bundlingService.resolveBundleResource(bundleRequestPath);
    if (bundle != null && bundle.exists()) {
      return bundle;
    }
  }
  return chain.resolveResource(request,requestPath,locations);
}
