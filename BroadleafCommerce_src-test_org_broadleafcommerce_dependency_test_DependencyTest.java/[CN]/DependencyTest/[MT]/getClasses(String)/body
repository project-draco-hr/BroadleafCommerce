{
  ArrayList<Class> classes=new ArrayList<Class>();
  try {
    URL url=DependencyVisitor.class.getResource('/' + pckgname.replace('.','/'));
    if (url.getProtocol().equals("jar")) {
      String jarPath=url.getPath().substring(5,url.getPath().indexOf("!"));
      JarFile jar=new JarFile(jarPath);
      addClasses(jar,classes,pckgname);
    }
 else {
      File directory=new File(url.getFile());
      addClasses(directory,classes,pckgname);
    }
  }
 catch (  Exception x) {
    throw new ClassNotFoundException(pckgname + " does not appear to be a valid package",x);
  }
  return classes;
}
