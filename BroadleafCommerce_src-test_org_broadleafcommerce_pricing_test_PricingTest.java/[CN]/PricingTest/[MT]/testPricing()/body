{
  Order order=orderDao.create();
  FulfillmentGroup group=new FulfillmentGroupImpl();
  List<FulfillmentGroup> groups=new ArrayList<FulfillmentGroup>();
  groups.add(group);
  order.setFulfillmentGroups(groups);
  Money total=new Money(5D);
  group.setShippingPrice(total);
  OrderItem item=new DiscreteOrderItemImpl();
  item.setPrice(new Money(10D));
  item.setQuantity(1);
  List<OrderItem> items=new ArrayList<OrderItem>();
  items.add(item);
  order.setOrderItems(items);
  order.setTotalShipping(new Money(0D));
  order=pricingService.executePricing(order);
  assert(order.getTotal().greaterThan(order.getSubTotal()));
  assert(order.getTotalTax().equals(order.getSubTotal().multiply(0.05D)));
  assert(order.getTotal().equals(order.getSubTotal().add(order.getTotalTax()).add(order.getTotalShipping())));
}
