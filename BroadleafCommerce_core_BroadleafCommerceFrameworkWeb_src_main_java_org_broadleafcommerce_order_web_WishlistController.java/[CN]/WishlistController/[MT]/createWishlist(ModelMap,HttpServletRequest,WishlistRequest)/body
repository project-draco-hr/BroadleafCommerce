{
  boolean wishlistCreated=false;
  Order wishlistOrder=new OrderImpl();
  if (wishlistRequest.getWishlistName() != null && wishlistRequest.getWishlistName().length() > 0) {
    wishlistOrder=createWishlistCart(request,wishlistRequest.getWishlistName());
    wishlistCreated=true;
  }
  if (wishlistCreated == false) {
    model.addAttribute("wishlistError","Please enter a valid wishlist name.");
    return "wishlist/createWishlistName";
  }
  if (wishlistRequest.getAddSkuId() != null && wishlistRequest.getAddCategoryId() != null && wishlistRequest.getAddProductId() != null && wishlistRequest.getQuantity() != null && wishlistCreated == true) {
    try {
      cartService.addSkuToOrder(wishlistOrder.getId(),wishlistRequest.getAddSkuId(),wishlistRequest.getAddProductId(),wishlistRequest.getAddCategoryId(),wishlistRequest.getQuantity());
    }
 catch (    PricingException e) {
      LOG.error("An exception occured while pricing the order: (" + wishlistOrder.getId() + ")",e);
    }
  }
  return viewWishlist(model,request,wishlistOrder.getId());
}
