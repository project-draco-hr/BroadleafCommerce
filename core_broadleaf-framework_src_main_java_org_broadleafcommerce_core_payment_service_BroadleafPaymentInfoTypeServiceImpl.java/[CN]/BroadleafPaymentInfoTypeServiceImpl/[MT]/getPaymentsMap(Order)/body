{
  Map<PaymentInfo,Referenced> payments=new HashMap<PaymentInfo,Referenced>();
  for (  PaymentInfo paymentInfo : order.getPaymentInfos()) {
    if (PaymentInfoType.ACCOUNT.equals(paymentInfo.getType())) {
      Referenced referenceInfo=createAccountReferenceInfo(paymentInfo);
      payments.put(paymentInfo,referenceInfo);
    }
    if (PaymentInfoType.ACCOUNT_CREDIT.equals(paymentInfo.getType())) {
      Referenced referenceInfo=createAccountCreditReferenceInfo(paymentInfo);
      payments.put(paymentInfo,referenceInfo);
    }
    if (PaymentInfoType.BANK_ACCOUNT.equals(paymentInfo.getType())) {
      Referenced referenceInfo=createBankAccountReferenceInfo(paymentInfo);
      payments.put(paymentInfo,referenceInfo);
    }
    if (PaymentInfoType.CHECK.equals(paymentInfo.getType())) {
      Referenced referenceInfo=createCheckReferenceInfo(paymentInfo);
      payments.put(paymentInfo,referenceInfo);
    }
    if (PaymentInfoType.CREDIT_CARD.equals(paymentInfo.getType())) {
      Referenced referenceInfo=createCreditCardReferenceInfo(paymentInfo);
      payments.put(paymentInfo,referenceInfo);
    }
    if (PaymentInfoType.CUSTOMER_CREDIT.equals(paymentInfo.getType())) {
      Referenced referenceInfo=createCustomerCreditReferenceInfo(paymentInfo);
      payments.put(paymentInfo,referenceInfo);
    }
    if (PaymentInfoType.ELECTRONIC_CHECK.equals(paymentInfo.getType())) {
      Referenced referenceInfo=createElectronicCheckReferenceInfo(paymentInfo);
      payments.put(paymentInfo,referenceInfo);
    }
    if (PaymentInfoType.GIFT_CARD.equals(paymentInfo.getType())) {
      Referenced referenceInfo=createGiftCardReferenceInfo(paymentInfo);
      payments.put(paymentInfo,referenceInfo);
    }
    if (PaymentInfoType.MONEY_ORDER.equals(paymentInfo.getType())) {
      Referenced referenceInfo=createMoneyOrderReferenceInfo(paymentInfo);
      payments.put(paymentInfo,referenceInfo);
    }
    if (PaymentInfoType.PAYPAL.equals(paymentInfo.getType())) {
      Referenced referenceInfo=createPayPalReferenceInfo(paymentInfo);
      payments.put(paymentInfo,referenceInfo);
    }
    if (PaymentInfoType.WIRE.equals(paymentInfo.getType())) {
      Referenced referenceInfo=createWireReferenceInfo(paymentInfo);
      payments.put(paymentInfo,referenceInfo);
    }
  }
  return payments;
}
