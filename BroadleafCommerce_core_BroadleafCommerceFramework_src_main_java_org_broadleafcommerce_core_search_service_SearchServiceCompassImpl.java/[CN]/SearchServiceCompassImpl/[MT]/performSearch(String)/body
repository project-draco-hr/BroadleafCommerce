{
  CompassSearchSession session=compass.openSearchSession();
  CompassDetachedHits hits=session.find(input).detach();
  session.close();
  List<Product> results=new ArrayList<Product>(hits.length());
  for (int i=0; i < hits.length(); i++) {
    Product resourceProduct=(Product)hits.data(i);
    results.add(catalogService.findProductById(resourceProduct.getId()));
  }
  return results;
}
