{
  String expression=itemOffer.getOffer().getAppliesToItemRules();
  if (expression != null && expression.indexOf("orderContainsPlusMark") >= 0) {
    HashMap<String,Object> vars=new HashMap<String,Object>();
    vars.put("currentItem",itemOffer.getOrderItem());
    vars.put("order",order);
    vars.put("offer",itemOffer.getOffer());
    vars.put("doMark",Boolean.TRUE);
    Boolean result=(Boolean)executeExpression(expression,vars);
    if (result) {
      itemOffer.getOrderItem().addAppliedItemOffer(itemOffer.getOffer());
    }
  }
 else {
    itemOffer.getOrderItem().addAppliedItemOffer(itemOffer.getOffer());
  }
}
