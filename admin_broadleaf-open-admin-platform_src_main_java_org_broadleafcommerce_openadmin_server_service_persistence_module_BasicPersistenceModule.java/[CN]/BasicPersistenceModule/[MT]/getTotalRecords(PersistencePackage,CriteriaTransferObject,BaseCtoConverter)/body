{
  PersistentEntityCriteria countCriteria=getCountCriteria(persistencePackage,cto,ctoConverter);
  try {
    return persistenceManager.getDynamicEntityDao().count(countCriteria,Class.forName(StringUtils.isEmpty(persistencePackage.getFetchTypeFullyQualifiedClassname()) ? persistencePackage.getCeilingEntityFullyQualifiedClassname() : persistencePackage.getFetchTypeFullyQualifiedClassname()));
  }
 catch (  Exception e) {
    throw new PersistenceException(e);
  }
}
