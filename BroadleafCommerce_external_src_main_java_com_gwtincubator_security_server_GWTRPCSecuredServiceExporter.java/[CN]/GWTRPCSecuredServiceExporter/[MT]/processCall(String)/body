{
  String response=null;
  final RPCRequest rpcRequest=RPC.decodeRequest(payload,null,this);
  try {
    response=delegate.processCall(payload);
  }
 catch (  final Throwable e) {
    final Throwable cause1=e.getCause();
    if (cause1 != null && cause1 instanceof UnexpectedException) {
      final Throwable preciousException=cause1.getCause();
      if (preciousException != null && (preciousException instanceof AccessDeniedException || preciousException instanceof AuthenticationException)) {
        String failurePayload=null;
        try {
          failurePayload=RPC.encodeResponseForFailure(rpcRequest.getMethod(),SecurityExceptionFactory.get(preciousException));
        }
 catch (        final UnexpectedException ue) {
          LOGGER.error("You may have forgotten to add a 'throws ApplicationSecurityException' declaration to your service interface.");
          throw ue;
        }
        return failurePayload;
      }
    }
    handleOtherException(e);
  }
  return response;
}
