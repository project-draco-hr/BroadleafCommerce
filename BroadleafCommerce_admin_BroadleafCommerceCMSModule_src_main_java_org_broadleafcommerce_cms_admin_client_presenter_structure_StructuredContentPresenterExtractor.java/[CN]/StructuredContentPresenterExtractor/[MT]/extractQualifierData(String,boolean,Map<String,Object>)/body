{
  for (  final ItemBuilderDisplay builder : getDisplay().getItemBuilderViews()) {
    if (builder.getDirty()) {
      String temper=builder.getItemQuantity().getValue().toString();
      Integer quantity=Integer.parseInt(temper);
      String mvel=TRANSLATOR.createMVEL(MVELKEYWORDMAP.get(FilterType.ORDER_ITEM),builder.getItemFilterBuilder().getCriteria(),builder.getItemFilterBuilder().getDataSource());
      if (!isValidation) {
        if (builder.getRecord() != null) {
          setData(builder.getRecord(),"quantity",quantity,dirtyValues);
          setData(builder.getRecord(),"orderItemMatchRule",mvel,dirtyValues);
          presenter.getPresenterSequenceSetupManager().getDataSource("scItemCriteriaDS").updateData(builder.getRecord(),new DSCallback(){
            public void execute(            DSResponse response,            Object rawData,            DSRequest request){
              builder.setDirty(false);
              getDisplay().getDynamicFormDisplay().getSaveButton().disable();
              getDisplay().getStructuredContentSaveButton().disable();
            }
          }
);
        }
 else {
          final Record temp=new Record();
          temp.setAttribute("quantity",quantity);
          temp.setAttribute("orderItemMatchRule",mvel);
          temp.setAttribute("_type",new String[]{presenter.getPresenterSequenceSetupManager().getDataSource("scItemCriteriaDS").getDefaultNewEntityFullyQualifiedClassname()});
          temp.setAttribute(StructuredContentItemCriteriaListDataSourceFactory.foreignKeyName,id);
          temp.setAttribute("id","");
          presenter.getPresenterSequenceSetupManager().getDataSource("scItemCriteriaDS").setLinkedValue(id);
          presenter.getPresenterSequenceSetupManager().getDataSource("scItemCriteriaDS").addData(temp,new DSCallback(){
            public void execute(            DSResponse response,            Object rawData,            DSRequest request){
              builder.setDirty(false);
              builder.setRecord(temp);
              getDisplay().getDynamicFormDisplay().getSaveButton().disable();
              getDisplay().getStructuredContentSaveButton().disable();
            }
          }
);
        }
      }
    }
  }
}
