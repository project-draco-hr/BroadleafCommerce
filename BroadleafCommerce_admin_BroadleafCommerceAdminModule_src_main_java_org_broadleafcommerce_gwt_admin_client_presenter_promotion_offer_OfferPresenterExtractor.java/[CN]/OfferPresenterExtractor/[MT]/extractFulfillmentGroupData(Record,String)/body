{
  if (type.equals("FULFILLMENT_GROUP")) {
    if (getDisplay().getFgRuleRadio().getValue().equals("FG_RULE")) {
      if (!presenter.initializer.fgRuleIncompatible) {
        selectedRecord.setAttribute("appliesToFulfillmentGroupRules",TRANSLATOR.createMVEL(getDisplay().getFulfillmentGroupFilterBuilder().getCriteria(),FilterType.FULFILLMENT_GROUP,getDisplay().getFulfillmentGroupFilterBuilder().getDataSource()));
      }
 else {
        selectedRecord.setAttribute("appliesToFulfillmentGroupRules",getDisplay().getRawFGTextArea().getValue());
      }
    }
 else {
      Object value=null;
      selectedRecord.setAttribute("appliesToFulfillmentGroupRules",value);
      getDisplay().getFulfillmentGroupFilterBuilder().clearCriteria();
      getDisplay().getRawFGTextArea().setValue("");
    }
  }
 else {
    Object value=null;
    selectedRecord.setAttribute("appliesToFulfillmentGroupRules",value);
    getDisplay().getFulfillmentGroupFilterBuilder().clearCriteria();
    getDisplay().getRawFGTextArea().setValue("");
  }
}
