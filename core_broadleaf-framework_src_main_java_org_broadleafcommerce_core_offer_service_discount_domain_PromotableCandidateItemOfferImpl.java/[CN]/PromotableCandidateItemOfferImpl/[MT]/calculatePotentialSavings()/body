{
  Money savings=new Money(0D);
  int maxUses=calculateMaximumNumberOfUses();
  int appliedCount=0;
  for (  PromotableOrderItem chgItem : candidateTargets) {
    int qtyToReceiveSavings=Math.min(chgItem.getQuantity(),maxUses);
    savings=calculateSavingsForOrderItem(chgItem,qtyToReceiveSavings);
    appliedCount=appliedCount + qtyToReceiveSavings;
    if (appliedCount >= maxUses) {
      return savings;
    }
  }
  return savings;
}
