{
  Money savings=BroadleafCurrencyUtils.getMoney(BigDecimal.ZERO,orderItem.getDelegate().getOrder().getCurrency());
  Money salesPrice=orderItem.getPriceBeforeAdjustments(getOffer().getApplyDiscountToSalePrice());
  if (getOffer().getDiscountType().equals(OfferDiscountType.AMOUNT_OFF)) {
    savings=savings.add(BroadleafCurrencyUtils.getMoney(getOffer().getValue(),orderItem.getDelegate().getOrder().getCurrency()).multiply(qtyToReceiveSavings));
  }
 else   if (getOffer().getDiscountType().equals(OfferDiscountType.PERCENT_OFF)) {
    BigDecimal savingsPercent=getOffer().getValue().divide(new BigDecimal(100));
    savings=savings.add(salesPrice.multiply(savingsPercent).multiply(qtyToReceiveSavings));
  }
 else {
    savings=savings.add(salesPrice.multiply(qtyToReceiveSavings).subtract(BroadleafCurrencyUtils.getMoney(getOffer().getValue(),orderItem.getDelegate().getOrder().getCurrency()).multiply(qtyToReceiveSavings)));
  }
  return savings;
}
