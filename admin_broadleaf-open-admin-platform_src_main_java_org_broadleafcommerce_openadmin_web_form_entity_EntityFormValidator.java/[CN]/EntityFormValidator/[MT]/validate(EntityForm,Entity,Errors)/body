{
  boolean result=true;
  if (entity.isValidationFailure()) {
    result=false;
    for (    Map.Entry<String,List<String>> propertyErrors : entity.getValidationErrors().entrySet()) {
      for (      String errorMessage : propertyErrors.getValue()) {
        String unserializedFieldName=propertyErrors.getKey();
        String serializedFieldName=JSCompatibilityHelper.encode(unserializedFieldName);
        if (form.getFields().get(unserializedFieldName) != null) {
          String[] errorCodes=((AbstractBindingResult)errors).resolveMessageCodes(errorMessage,serializedFieldName);
          FieldError fieldError=new FieldError("entityForm",String.format("fields[%s].value",serializedFieldName),form.getFields().get(unserializedFieldName).getValue(),false,errorCodes,null,errorMessage);
          ((AbstractBindingResult)errors).addError(fieldError);
        }
      }
    }
  }
  return result;
}
