{
  try {
    String fullUrl=request.getPathInfo();
    Long sandBoxId=(Long)request.getSession().getAttribute(SANDBOX_ID_VAR);
    if (sandBoxId == null) {
      sandBoxId=(Long)request.getSession().getAttribute(SANDBOX_ADMIN_ID_VAR);
    }
    SandBox sandBox=null;
    if (sandBoxId != null) {
      sandBox=sandBoxService.retrieveSandboxById(sandBoxId);
    }
    Map<String,String> model=staticAssetStorageService.getCacheFileModel(fullUrl,sandBox,request.getParameterMap());
    return new ModelAndView("blStaticAssetView",model);
  }
 catch (  Exception e) {
    LOG.error("Unable to retrieve static asset",e);
    throw new RuntimeException(e);
  }
}
