{
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("priceListDS",new PriceListDataSourceFactory(),new AsyncCallbackAdapter(){
    @Override public void onSetupSuccess(    DataSource top){
      setupDisplayItems(top);
      ((ListGridDataSource)top).setupGridFields(new String[]{"id","friendlyName","priceKey","currency"},new Boolean[]{true,true,true,true});
    }
  }
));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("currencyDS",new CurrencyListDataSourceFactory(),new AsyncCallbackAdapter(){
    @Override public void onSetupSuccess(    DataSource result){
      ((ListGridDataSource)result).resetPermanentFieldVisibility("friendlyName");
      final EntitySearchDialog localeSearchView=new EntitySearchDialog((ListGridDataSource)result,true);
      getPresenterSequenceSetupManager().getDataSource("priceListDS").getFormItemCallbackHandlerManager().addSearchFormItemCallback("currencyCode",localeSearchView,BLCMain.getMessageManager().getString("localeSearchPrompt"),display.getDynamicFormDisplay());
    }
  }
));
}
