{
  long millis=System.currentTimeMillis();
switch (field) {
case Calendar.DATE:
{
      calendar=new Date(millis + (amount * 1000 * 60* 60* 24));
      break;
    }
case Calendar.HOUR:
{
    calendar=new Date(millis + (amount * 1000 * 60* 60));
    break;
  }
case Calendar.MILLISECOND:
{
  calendar=new Date(millis + (amount * 1000));
  break;
}
case Calendar.MINUTE:
{
calendar=new Date(millis + (amount * 1000 * 60));
break;
}
case Calendar.YEAR:
{
calendar=new Date(millis);
calendar.setYear(calendar.getYear() + amount);
break;
}
case Calendar.MONTH:
{
int modulus=amount % 12;
int yearAmount=amount / 12;
calendar=new Date(millis);
calendar.setYear(calendar.getYear() + yearAmount);
int month=calendar.getMonth();
int year=calendar.getYear();
int result=month + modulus;
if (result > 11) {
calendar.setMonth(result - 12);
calendar.setYear(year + 1);
}
 else if (result < 0) {
calendar.setMonth(12 + result);
calendar.setYear(year - 1);
}
 else {
calendar.setMonth(result);
}
break;
}
default :
{
throw new RuntimeException("Type not supported: " + field);
}
}
}
