{
  BLCMain.MODAL_PROGRESS.startProgress(new Timer(){
    public void run(){
      if (loaded) {
        OfferPresenter.super.go(container);
        return;
      }
      OfferListDataSourceFactory.createDataSource("offerDS",new AsyncCallbackAdapter(){
        public void onSuccess(        final DataSource top){
          OrderListDataSourceFactory.createDataSource("offerOrderDS",new AsyncCallbackAdapter(){
            public void onSuccess(            final DataSource offerOrderDS){
              OrderItemListDataSourceFactory.createDataSource("offerOrderItemDS",new AsyncCallbackAdapter(){
                public void onSuccess(                final DataSource offerOrderItemDS){
                  ((DynamicEntityDataSource)offerOrderItemDS).showAdditionalFields("product.id","category.id","sku.id");
                  FulfillmentGroupListDataSourceFactory.createDataSource("offerFGDS",new AsyncCallbackAdapter(){
                    public void onSuccess(                    final DataSource offerFGDS){
                      CustomerListDataSourceFactory.createDataSource("offerCustomerDS",new AsyncCallbackAdapter(){
                        public void onSuccess(                        final DataSource offerCustomerDS){
                          ((ListGridDataSource)top).hideFields("appliesToOrderRules","appliesToCustomerRules");
                          setupDisplayItems(top,offerOrderDS,offerOrderItemDS,offerFGDS,offerCustomerDS);
                          ((ListGridDataSource)top).setupGridFields(new String[]{"name","description","type","value","startDate","endDate"},new Boolean[]{true,true,true,true,true,true});
                          OfferPresenter.super.go(container);
                        }
                      }
);
                    }
                  }
);
                }
              }
);
            }
          }
);
        }
      }
);
    }
  }
);
}
