{
  Product p1=new ProductImpl();
  p1.setUrl("/hot-sauces/sudden_death_sauce");
  Sku s1=new SkuImpl();
  p1.setDefaultSku(s1);
  Product p2=new ProductImpl();
  p2.setUrl("/merchandise/hawt_like_a_habanero_mens");
  Sku s2=new SkuImpl();
  s2.setUrlKey("/black_s");
  s2.setProduct(p2);
  Sku s3=new SkuImpl();
  s3.setUrlKey("/black_m");
  s3.setProduct(p2);
  Sku s4=new SkuImpl();
  s4.setUrlKey("/black_l");
  s4.setProduct(p2);
  List<Sku> skus=new ArrayList<Sku>();
  skus.add(s1);
  skus.add(s2);
  skus.add(s3);
  skus.add(s4);
  SkuDao skuDao=EasyMock.createMock(SkuDao.class);
  EasyMock.expect(skuDao.readAllActiveSkus(EasyMock.eq(0),EasyMock.eq(5))).andReturn(skus);
  EasyMock.replay(skuDao);
  SkuSiteMapGenerator ssmg=new SkuSiteMapGenerator();
  ssmg.setSkuDao(skuDao);
  ssmg.setPageSize(5);
  SiteMapGeneratorConfiguration smgc=new SiteMapGeneratorConfigurationImpl();
  smgc.setDisabled(false);
  smgc.setSiteMapGeneratorType(SiteMapGeneratorType.SKU);
  smgc.setSiteMapChangeFreq(SiteMapChangeFreqType.HOURLY);
  smgc.setSiteMapPriority(SiteMapPriorityType.POINT5);
  testGenerator(smgc,ssmg);
  File file1=fileService.getResource("/sitemap_index.xml");
  File file2=fileService.getResource("/sitemap1.xml");
  File file3=fileService.getResource("/sitemap2.xml");
  compareFiles(file1,"src/test/resources/org/broadleafcommerce/sitemap/sku/sitemap_index.xml");
  compareFiles(file2,"src/test/resources/org/broadleafcommerce/sitemap/sku/sitemap1.xml");
  compareFiles(file3,"src/test/resources/org/broadleafcommerce/sitemap/sku/sitemap2.xml");
}
