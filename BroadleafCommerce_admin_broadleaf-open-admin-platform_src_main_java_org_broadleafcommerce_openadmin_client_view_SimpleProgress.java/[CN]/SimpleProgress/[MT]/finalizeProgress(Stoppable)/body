{
  final IntContainer container=new IntContainer(100);
  Timer timer=new Timer(){
    public void run(){
      if (container.getVal() > 0) {
        setPercentDone(container.getVal());
        container.setVal(-1);
        schedule(10);
      }
 else       if (container.getVal() == -1) {
        container.setVal(0);
        schedule(500);
      }
 else {
        setOpacity(50);
        setPercentDone(container.getVal());
        if (progressContainer != null) {
          progressContainer.finalizeProgress();
        }
      }
    }
  }
;
  timer.schedule(10);
}
