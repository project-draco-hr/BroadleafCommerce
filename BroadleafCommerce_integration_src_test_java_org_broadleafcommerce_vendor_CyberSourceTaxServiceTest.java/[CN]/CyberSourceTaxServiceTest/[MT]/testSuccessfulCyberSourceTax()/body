{
  if (serviceManager.getMerchantId().equals("?")) {
    return;
  }
  CyberSourceTaxRequest taxRequest=new CyberSourceTaxRequest();
  taxRequest.setCurrency(Currency.getInstance(Locale.US).getCurrencyCode());
  taxRequest.setNexus("CA");
  taxRequest.setOrderAcceptancePostalCode("94043");
  CyberSourceBillingRequest billingRequest=new CyberSourceBillingRequest();
  billingRequest.setCity("Mountain View");
  billingRequest.setPostalCode("94043");
  billingRequest.setState("CA");
  billingRequest.setStreet1("1295 Charleston Road");
  billingRequest.setCountry("US");
  taxRequest.setBillingRequest(billingRequest);
  CyberSourceTaxItemRequest itemRequest1=new CyberSourceTaxItemRequest();
  itemRequest1.setDescription("First Item");
  itemRequest1.setQuantity(2L);
  itemRequest1.setShortDescription("firstItem");
  itemRequest1.setUnitPrice(new Money(12.34));
  taxRequest.getItemRequests().add(itemRequest1);
  CyberSourceTaxService service=(CyberSourceTaxService)serviceManager.getValidService(taxRequest);
  ((ServiceResponseCacheable)service).clearCache();
  CyberSourceTaxResponse response=(CyberSourceTaxResponse)service.process(taxRequest);
  assert(response.getReasonCode().intValue() == 100);
  assert(!response.getRequestToken().equals("from-cache"));
  Money totalTaxAmount=response.getItemResponses()[0].getTotalTaxAmount();
  assert(totalTaxAmount != null && totalTaxAmount.greaterThan(new Money(0D)));
  CyberSourceTaxResponse response2=(CyberSourceTaxResponse)service.process(taxRequest);
  assert(response2.getReasonCode().intValue() == 100);
  assert(response2.getRequestToken().equals("from-cache"));
  Money totalTaxAmount2=response2.getItemResponses()[0].getTotalTaxAmount();
  assert(totalTaxAmount2 != null && totalTaxAmount2.greaterThan(new Money(0D)));
  assert(totalTaxAmount.equals(totalTaxAmount2));
}
