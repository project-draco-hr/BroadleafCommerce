{
  ErrorWrapper errorWrapper=(ErrorWrapper)context.getBean(ErrorWrapper.class.getName());
  Locale locale=null;
  BroadleafRequestContext requestContext=BroadleafRequestContext.getBroadleafRequestContext();
  if (requestContext != null) {
    locale=requestContext.getJavaLocale();
  }
  LOG.error("An error occured invoking a REST service",ex);
  if (locale == null) {
    locale=Locale.getDefault();
  }
  errorWrapper.setHttpStatusCode(404);
  response.setStatus(resolveResponseStatusCode(ex,errorWrapper));
  ErrorMessageWrapper errorMessageWrapper=(ErrorMessageWrapper)context.getBean(ErrorMessageWrapper.class.getName());
  errorMessageWrapper.setMessageKey("404 Not Found");
  errorMessageWrapper.setMessage("URL does not exist for this API");
  errorWrapper.getMessages().add(errorMessageWrapper);
  return errorWrapper;
}
