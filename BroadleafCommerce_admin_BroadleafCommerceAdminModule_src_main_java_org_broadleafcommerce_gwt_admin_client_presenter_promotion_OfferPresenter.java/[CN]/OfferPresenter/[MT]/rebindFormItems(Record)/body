{
  getDisplay().getDynamicFormDisplay().getFormOnlyDisplay().getForm().getField("type").addChangedHandler(new ChangedHandler(){
    public void onChanged(    ChangedEvent event){
      String eventValue=event.getValue().toString();
      initializer.initSectionBasedOnType(eventValue,selectedRecord);
    }
  }
);
  FormItem endDate=getDisplay().getDynamicFormDisplay().getFormOnlyDisplay().getForm().getField("endDate");
  if (endDate != null) {
    endDate.addChangedHandler(new ChangedHandler(){
      @SuppressWarnings("deprecation") public void onChanged(      ChangedEvent event){
        Date myDate=(Date)event.getValue();
        myDate.setHours(23);
        myDate.setMinutes(59);
        myDate.setSeconds(59);
        event.getItem().setValue(myDate);
      }
    }
);
  }
}
