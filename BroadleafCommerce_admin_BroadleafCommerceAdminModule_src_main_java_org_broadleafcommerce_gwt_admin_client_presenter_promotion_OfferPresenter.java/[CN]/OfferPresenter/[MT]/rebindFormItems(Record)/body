{
  getDisplay().getDynamicFormDisplay().getFormOnlyDisplay().getForm().getField("type").addChangedHandler(new ChangedHandler(){
    public void onChanged(    ChangedEvent event){
      String eventValue=event.getValue().toString();
      initializer.initSectionBasedOnType(eventValue,selectedRecord);
    }
  }
);
  getDisplay().getDynamicFormDisplay().getFormOnlyDisplay().getForm().getField("discountType").addChangedHandler(new ChangedHandler(){
    public void onChanged(    ChangedEvent event){
      String eventValue=event.getValue().toString();
      if (eventValue.equals("FIX_PRICE")) {
        getDisplay().getOrderCombineForm().disable();
        getDisplay().getFGCombineForm().disable();
        getDisplay().getOrderItemCombineForm().disable();
        getDisplay().getOrderCombineRuleRadio().setValue("NO");
        getDisplay().getFgCombineRuleRadio().setValue("NO");
        getDisplay().getOrderItemCombineRuleRadio().setValue("NO");
      }
 else {
        getDisplay().getOrderCombineForm().enable();
        getDisplay().getFGCombineForm().enable();
        getDisplay().getOrderItemCombineForm().enable();
        getDisplay().getOrderCombineRuleRadio().setValue("YES");
        getDisplay().getFgCombineRuleRadio().setValue("YES");
        getDisplay().getOrderItemCombineRuleRadio().setValue("YES");
      }
    }
  }
);
  FormItem endDate=getDisplay().getDynamicFormDisplay().getFormOnlyDisplay().getForm().getField("endDate");
  if (endDate != null) {
    endDate.addChangedHandler(new ChangedHandler(){
      @SuppressWarnings("deprecation") public void onChanged(      ChangedEvent event){
        Date myDate=(Date)event.getValue();
        myDate.setHours(23);
        myDate.setMinutes(59);
        myDate.setSeconds(59);
        event.getItem().setValue(myDate);
      }
    }
);
  }
}
