{
  Set<String> filterPropertySet=cto.getPropertyIdSet();
  final List<Long> productOptionValueFilterIDs=new ArrayList<Long>();
  for (  String filterProperty : filterPropertySet) {
    if (filterProperty.startsWith(PRODUCT_OPTION_FIELD_PREFIX)) {
      FilterAndSortCriteria criteria=cto.get(filterProperty);
      productOptionValueFilterIDs.add(Long.parseLong(criteria.getFilterValues()[0]));
    }
  }
  if (productOptionValueFilterIDs.size() > 0) {
    List<Serializable> result=new ArrayList<Serializable>();
    for (    Serializable record : skus) {
      Sku sku=(Sku)record;
      ArrayList<Long> skuOptionValueIds=new ArrayList<Long>();
      CollectionUtils.collect(sku.getProductOptionValues(),new Transformer(){
        @Override public Object transform(        Object input){
          return ((ProductOptionValue)input).getId();
        }
      }
,skuOptionValueIds);
      if (CollectionUtils.containsAny(skuOptionValueIds,productOptionValueFilterIDs)) {
        result.add(sku);
      }
    }
  }
  return skus;
}
