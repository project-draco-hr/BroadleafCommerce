{
  if (dataSource == null) {
    PersistencePerspective persistencePerspective=new PersistencePerspective(operationTypes,new String[]{},new ForeignKey[]{new ForeignKey(defaultCategoryForeignKey,EntityImplementations.CATEGORY,null)});
    JoinStructure joinStructure=new JoinStructure(symbolName,linkedObjectPath,linkedIdProperty,targetObjectPath,targetIdProperty,EntityImplementations.CATEGORY_PRODUCT,sortField,true);
    joinStructure.setInverse(true);
    persistencePerspective.addPersistencePerspectiveItem(PersistencePerspectiveItemType.JOINSTRUCTURE,joinStructure);
    DataSourceModule[] modules=new DataSourceModule[]{new BasicEntityModule(CeilingEntities.CATEGORY,persistencePerspective,AppServices.DYNAMIC_ENTITY),new JoinStructureModule(CeilingEntities.CATEGORY,persistencePerspective,AppServices.DYNAMIC_ENTITY)};
    dataSource=new ListGridDataSource(CeilingEntities.CATEGORY,name,persistencePerspective,AppServices.DYNAMIC_ENTITY,modules);
    dataSource.buildFields(null,cb);
  }
 else {
    if (cb != null) {
      cb.onSuccess(dataSource);
    }
  }
}
