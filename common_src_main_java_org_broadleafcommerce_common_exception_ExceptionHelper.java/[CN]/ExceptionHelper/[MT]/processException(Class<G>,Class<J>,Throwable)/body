{
  if (refineType.isAssignableFrom(e.getClass())) {
    throw (G)e;
  }
  Throwable rootCause=e;
  boolean eof=false;
  while (!eof) {
    if (rootCause.getCause() != null) {
      rootCause=rootCause.getCause();
      if (refineType.isAssignableFrom(rootCause.getClass())) {
        throw (G)rootCause;
      }
    }
 else {
      eof=true;
    }
  }
  throw wrapException(e,wrapType);
}
