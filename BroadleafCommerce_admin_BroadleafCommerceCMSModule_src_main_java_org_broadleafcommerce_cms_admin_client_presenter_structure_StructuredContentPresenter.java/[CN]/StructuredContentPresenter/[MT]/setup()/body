{
  super.setup();
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("structuredContentDS",new StructuredContentListDataSourceFactory(),new NullAsyncCallbackAdapter()));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("scCustomerDS",new CustomerListDataSourceFactory(),new AsyncCallbackAdapter(){
    public void onSetupSuccess(    DataSource result){
      ((DynamicEntityDataSource)result).permanentlyShowFields("id");
    }
  }
));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("scProductDS",new ProductListDataSourceFactory(),new NullAsyncCallbackAdapter()));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("timeDTODS",new TimeDTOListDataSourceFactory(),new NullAsyncCallbackAdapter()));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("requestDTODS",new RequestDTOListDataSourceFactory(),new NullAsyncCallbackAdapter()));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("scOrderItemDS",new OrderItemListDataSourceFactory(),new AsyncCallbackAdapter(){
    public void onSetupSuccess(    DataSource result){
      ((DynamicEntityDataSource)result).permanentlyShowFields("product.id","category.id","sku.id");
    }
  }
));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("structuredContentTypeSearchDS",new StructuredContentTypeSearchListDataSourceFactory(),new OperationTypes(OperationType.ENTITY,OperationType.ENTITY,OperationType.ENTITY,OperationType.ENTITY,OperationType.ENTITY),new Object[]{},new AsyncCallbackAdapter(){
    public void onSetupSuccess(    DataSource result){
      ListGridDataSource structuredContentTypeDataSource=(ListGridDataSource)result;
      structuredContentTypeDataSource.resetPermanentFieldVisibility("name","description");
      EntitySearchDialog structuredContentTypeSearchView=new EntitySearchDialog(structuredContentTypeDataSource,true);
      setupDisplayItems(getPresenterSequenceSetupManager().getDataSource("structuredContentDS"),getPresenterSequenceSetupManager().getDataSource("scCustomerDS"),getPresenterSequenceSetupManager().getDataSource("timeDTODS"),getPresenterSequenceSetupManager().getDataSource("requestDTODS"),getPresenterSequenceSetupManager().getDataSource("scOrderItemDS"),getPresenterSequenceSetupManager().getDataSource("scProductDS"));
      getPresenterSequenceSetupManager().getDataSource("structuredContentDS").getFormItemCallbackHandlerManager().addSearchFormItemCallback("structuredContentType",structuredContentTypeSearchView,"Structured Content Type Search",getDisplay().getDynamicFormDisplay(),new FormItemCallback(){
        @Override public void execute(        FormItem formItem){
          if (currentStructuredContentRecord != null) {
            destroyContentTypeForm();
            loadContentTypeForm(currentStructuredContentRecord);
          }
        }
      }
);
      ((ListGridDataSource)getPresenterSequenceSetupManager().getDataSource("structuredContentDS")).setupGridFields(new String[]{"locked","structuredContentTypeGrid","contentName","locale","offlineFlag"});
    }
  }
));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("scItemCriteriaDS",new StructuredContentItemCriteriaListDataSourceFactory(),new AsyncCallbackAdapter(){
    public void onSetupSuccess(    DataSource result){
      initializer=new StructuredContentPresenterInitializer(StructuredContentPresenter.this,(DynamicEntityDataSource)result,getPresenterSequenceSetupManager().getDataSource("scOrderItemDS"));
      extractor=new StructuredContentPresenterExtractor(StructuredContentPresenter.this);
    }
  }
));
}
