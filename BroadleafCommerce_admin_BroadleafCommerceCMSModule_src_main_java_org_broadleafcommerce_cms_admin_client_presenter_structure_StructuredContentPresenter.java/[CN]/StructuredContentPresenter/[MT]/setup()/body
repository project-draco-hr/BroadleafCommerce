{
  super.setup();
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("structuredContentDS",new StructuredContentListDataSourceFactory(),null,new Object[]{},new NullAsyncCallbackAdapter()));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("offerCustomerDS",new CustomerListDataSourceFactory(),null,new Object[]{},new AsyncCallbackAdapter(){
    public void onSetupSuccess(    DataSource result){
      ((DynamicEntityDataSource)result).permanentlyShowFields("id");
    }
  }
));
  getPresenterSequenceSetupManager().addOrReplaceItem(new PresenterSetupItem("structuredContentTypeSearchDS",new StructuredContentTypeSearchListDataSourceFactory(),new OperationTypes(OperationType.ENTITY,OperationType.ENTITY,OperationType.ENTITY,OperationType.ENTITY,OperationType.ENTITY),new Object[]{},new AsyncCallbackAdapter(){
    public void onSetupSuccess(    DataSource result){
      ListGridDataSource structuredContentTypeDataSource=(ListGridDataSource)result;
      structuredContentTypeDataSource.resetPermanentFieldVisibility("name","description");
      EntitySearchDialog structuredContentTypeSearchView=new EntitySearchDialog(structuredContentTypeDataSource,true);
      setupDisplayItems(getPresenterSequenceSetupManager().getDataSource("structuredContentDS"),getPresenterSequenceSetupManager().getDataSource("offerCustomerDS"));
      getPresenterSequenceSetupManager().getDataSource("structuredContentDS").getFormItemCallbackHandlerManager().addSearchFormItemCallback("structuredContentType",structuredContentTypeSearchView,"Structured Content Type Search",getDisplay().getDynamicFormDisplay(),new FormItemCallback(){
        @Override public void execute(        FormItem formItem){
          if (currentStructuredContentRecord != null) {
            destroyContentTypeForm();
            loadContentTypeForm(currentStructuredContentRecord);
          }
        }
      }
);
      ((ListGridDataSource)getPresenterSequenceSetupManager().getDataSource("structuredContentDS")).setupGridFields(new String[]{"locked","structuredContentTypeGrid","contentName","locale","offlineFlag"});
    }
  }
));
}
