{
  BroadleafBasketOrder bo;
  Query query=em.createNamedQuery("READ_ORDER_BASKET_FOR_CUSTOMER_ID");
  query.setParameter("customerId",customer.getId());
  try {
    bo=(BroadleafBasketOrder)query.getSingleResult();
    return (BroadleafBasketOrder)query.getSingleResult();
  }
 catch (  NoResultException nre) {
    bo=new BroadleafBasketOrder();
    bo.setCustomer(customer);
    em.persist(bo);
    return bo;
  }
}
