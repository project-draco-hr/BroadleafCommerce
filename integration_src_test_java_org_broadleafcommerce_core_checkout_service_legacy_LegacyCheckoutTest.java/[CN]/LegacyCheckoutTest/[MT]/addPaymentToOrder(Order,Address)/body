{
  PaymentInfo payment=new PaymentInfoImpl();
  payment.setAddress(address);
  payment.setAmount(new Money(15D + (15D * 0.05D)));
  payment.setReferenceNumber("1234");
  payment.setType(PaymentInfoType.CREDIT_CARD);
  payment.setOrder(order);
  CreditCardPaymentInfo cc=new CreditCardPaymentInfo(){
    private static final long serialVersionUID=1L;
    private String referenceNumber="1234";
    public String getCvvCode(){
      return "123";
    }
    public Integer getExpirationMonth(){
      return 11;
    }
    public Integer getExpirationYear(){
      return 2011;
    }
    public Long getId(){
      return null;
    }
    public String getPan(){
      return "1111111111111111";
    }
    public String getNameOnCard(){
      return "Cardholder Name";
    }
    public void setCvvCode(    String cvvCode){
    }
    public void setExpirationMonth(    Integer expirationMonth){
    }
    public void setExpirationYear(    Integer expirationYear){
    }
    public void setId(    Long id){
    }
    public void setNameOnCard(    String nameOnCard){
    }
    public void setPan(    String pan){
    }
    public EncryptionModule getEncryptionModule(){
      return encryptionModule;
    }
    public String getReferenceNumber(){
      return referenceNumber;
    }
    public void setEncryptionModule(    EncryptionModule encryptionModule){
    }
    public void setReferenceNumber(    String referenceNumber){
      this.referenceNumber=referenceNumber;
    }
  }
;
  order.getPaymentInfos().add(payment);
  Map<PaymentInfo,Referenced> map=new HashMap<PaymentInfo,Referenced>();
  map.put(payment,cc);
  return map;
}
