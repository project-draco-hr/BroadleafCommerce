{
  toolBar=new ToolStrip();
  toolBar.setHeight(30);
  toolBar.setWidth100();
  toolBar.addSpacer(6);
  addButton=new ToolStripButton();
  addButton.setDisabled(true);
  addButton.setTitle(BLCMain.getMessageManager().getString("addTitle"));
  addButton.setIcon(GWT.getModuleBaseURL() + "sc/skins/Enterprise/images/actions/add.png");
  toolBar.addButton(addButton);
  removeButton=new ToolStripButton();
  removeButton.setTitle(BLCMain.getMessageManager().getString("removeTitle"));
  removeButton.setIcon(GWT.getModuleBaseURL() + "sc/skins/Enterprise/images/actions/remove.png");
  removeButton.setDisabled(true);
  toolBar.addButton(removeButton);
  toolBar.addSpacer(6);
  toolBar.addFill();
  showArchivedButton=new ToolStripButton();
  String archivedButtonTitle=((AbstractDynamicDataSource)dataSource).isShowArchived() ? BLCMain.getMessageManager().getString("hideArchivedRecords") : BLCMain.getMessageManager().getString("showArchivedRecords");
  showArchivedButton.setTitle(archivedButtonTitle);
  showArchivedButton.setIcon(GWT.getModuleBaseURL() + "sc/skins/Enterprise/images/headerIcons/find.png");
  showArchivedButton.setVisibility(Visibility.HIDDEN);
  toolBar.addButton(showArchivedButton);
  toolBar.addSpacer(6);
  addMember(toolBar);
  grid=new TreeGrid();
  grid.setAlternateRecordStyles(true);
  grid.setSelectionType(SelectionStyle.SINGLE);
  grid.setCanEdit(false);
  grid.setDataSource(dataSource);
  grid.setAutoFetchData(true);
  grid.setDrawAheadRatio(4);
  grid.setCanSort(false);
  grid.setCanResizeFields(true);
  grid.setShowRoot(showRoot);
  grid.setHoverMoveWithMouse(true);
  grid.setCanHover(true);
  grid.setShowHover(true);
  grid.setHoverOpacity(75);
  grid.setHoverCustomizer(new HoverCustomizer(){
    @Override public String hoverHTML(    Object value,    ListGridRecord record,    int rowNum,    int colNum){
      if (record != null && record.getAttribute("__locked") != null && record.getAttributeAsBoolean("__locked")) {
        return BLCMain.getMessageManager().replaceKeys(BLCMain.getMessageManager().getString("lockedMessage"),new String[]{"userName","date"},new String[]{record.getAttribute("__lockedUserName"),record.getAttribute("__lockedDate")});
      }
 else       if (record != null && record.getAttribute("_hilite") != null && record.getAttribute("_hilite").equals("listGridDirtyPropertyHilite")) {
        return BLCMain.getMessageManager().getString("dirtyMessage");
      }
 else       if (record != null && record.getAttribute("_hilite") != null && record.getAttribute("_hilite").equals("listGridInActivePropertyHilite")) {
        return BLCMain.getMessageManager().getString("inActiveMessage");
      }
 else       if (record != null && record.getAttribute("_hilite") != null && record.getAttribute("_hilite").equals("listGridDeletedPropertyHilite")) {
        return BLCMain.getMessageManager().getString("deletedMessage");
      }
      return null;
    }
  }
);
  addMember(grid);
}
