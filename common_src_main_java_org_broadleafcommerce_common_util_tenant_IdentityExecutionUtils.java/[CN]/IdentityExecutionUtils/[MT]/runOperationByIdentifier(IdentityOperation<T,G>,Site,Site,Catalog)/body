{
  IdentityUtilContext context=new IdentityUtilContext();
  context.setIdentifier(site);
  IdentityUtilContext.setUtilContext(context);
  boolean isNew=initRequestContext(site,profile,catalog);
  activateSession();
  try {
    return operation.execute();
  }
 catch (  RuntimeException e) {
    throw e;
  }
 finally {
    IdentityUtilContext.setUtilContext(null);
    if (isNew) {
      BroadleafRequestContext.setBroadleafRequestContext(null);
    }
  }
}
