{
  Map<String,FieldMetadata> mergedProperties=getMergedPropertiesRecursively(ceilingEntityFullyQualifiedClassname,entities,foreignField,additionalNonPersistentProperties,additionalForeignFields,mergedPropertyType,populateManyToOneFields,includeFields,excludeFields,configurationKey,new ArrayList<Class<?>>(),prefix,false);
  final List<String> removeKeys=new ArrayList<String>();
  for (  final String key : mergedProperties.keySet()) {
    if (mergedProperties.get(key).getExcluded() != null && mergedProperties.get(key).getExcluded()) {
      removeKeys.add(key);
    }
  }
  for (  String removeKey : removeKeys) {
    mergedProperties.remove(removeKey);
  }
  return mergedProperties;
}
