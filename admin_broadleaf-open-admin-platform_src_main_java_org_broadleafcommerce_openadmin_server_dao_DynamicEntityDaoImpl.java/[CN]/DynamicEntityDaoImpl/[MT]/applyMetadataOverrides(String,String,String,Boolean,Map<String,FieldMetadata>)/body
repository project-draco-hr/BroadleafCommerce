{
  if (fieldMetadataOverrides != null && configurationKey != null) {
    Map<String,Map<String,BasicFieldMetadataOverride>> configuredOverrides=fieldMetadataOverrides.get(configurationKey);
    if (configuredOverrides != null) {
      Map<String,BasicFieldMetadataOverride> entityOverrides=configuredOverrides.get(ceilingEntityFullyQualifiedClassname);
      if (entityOverrides != null) {
        for (        String propertyName : entityOverrides.keySet()) {
          final BasicFieldMetadataOverride localMetadata=entityOverrides.get(propertyName);
          Boolean excluded=localMetadata.getExcluded();
          if (excluded == null) {
            excluded=false;
          }
          for (          String key : mergedProperties.keySet()) {
            String testKey=prefix + key;
            if ((testKey.startsWith(propertyName + ".") || testKey.equals(propertyName)) && excluded) {
              FieldMetadata metadata=mergedProperties.get(key);
              metadata.setExcluded(true);
              continue;
            }
            if ((testKey.startsWith(propertyName + ".") || testKey.equals(propertyName)) && !excluded) {
              FieldMetadata metadata=mergedProperties.get(key);
              if (!isParentExcluded) {
                metadata.setExcluded(false);
              }
            }
            if (key.equals(propertyName)) {
              BasicFieldMetadata serverMetadata=(BasicFieldMetadata)mergedProperties.get(key);
              if (localMetadata.getFriendlyName() != null) {
                serverMetadata.setFriendlyName(localMetadata.getFriendlyName());
              }
              if (localMetadata.getSecurityLevel() != null) {
                serverMetadata.setSecurityLevel(localMetadata.getSecurityLevel());
              }
              if (localMetadata.getVisibility() != null) {
                serverMetadata.setVisibility(localMetadata.getVisibility());
              }
              if (localMetadata.getOrder() != null) {
                serverMetadata.setOrder(localMetadata.getOrder());
              }
              if (localMetadata.getExplicitFieldType() != null) {
                serverMetadata.setExplicitFieldType(localMetadata.getExplicitFieldType());
                serverMetadata.setFieldType(localMetadata.getExplicitFieldType());
              }
              if (localMetadata.getGroup() != null) {
                serverMetadata.setGroup(localMetadata.getGroup());
              }
              if (localMetadata.getGroupCollapsed() != null) {
                serverMetadata.setGroupCollapsed(localMetadata.getGroupCollapsed());
              }
              if (localMetadata.getGroupOrder() != null) {
                serverMetadata.setGroupOrder(localMetadata.getGroupOrder());
              }
              if (localMetadata.isLargeEntry() != null) {
                serverMetadata.setLargeEntry(localMetadata.isLargeEntry());
              }
              if (localMetadata.isProminent() != null) {
                serverMetadata.setProminent(localMetadata.isProminent());
              }
              if (localMetadata.getColumnWidth() != null) {
                serverMetadata.setColumnWidth(localMetadata.getColumnWidth());
              }
              if (!StringUtils.isEmpty(localMetadata.getBroadleafEnumeration()) && !localMetadata.getBroadleafEnumeration().equals(serverMetadata.getBroadleafEnumeration())) {
                serverMetadata.setBroadleafEnumeration(localMetadata.getBroadleafEnumeration());
                try {
                  setupBroadleafEnumeration(localMetadata.getBroadleafEnumeration(),serverMetadata);
                }
 catch (                Exception e) {
                  throw new RuntimeException(e);
                }
              }
              if (localMetadata.getReadOnly() != null) {
                serverMetadata.setReadOnly(localMetadata.getReadOnly());
              }
              if (localMetadata.getExcluded() != null) {
                serverMetadata.setExcluded(localMetadata.getExcluded());
              }
              if (isParentExcluded) {
                serverMetadata.setExcluded(true);
              }
              if (localMetadata.getTooltip() != null) {
                serverMetadata.setTooltip(localMetadata.getTooltip());
              }
              if (localMetadata.getHelpText() != null) {
                serverMetadata.setHelpText(localMetadata.getHelpText());
              }
              if (localMetadata.getHint() != null) {
                serverMetadata.setHint(localMetadata.getHint());
              }
              if (localMetadata.getRequiredOverride() != null) {
                serverMetadata.setRequiredOverride(localMetadata.getRequiredOverride());
              }
              if (localMetadata.getValidationConfigurations() != null) {
                serverMetadata.setValidationConfigurations(localMetadata.getValidationConfigurations());
              }
              if (localMetadata.getLength() != null) {
                serverMetadata.setLength(localMetadata.getLength());
              }
              if (localMetadata.getUnique() != null) {
                serverMetadata.setUnique(localMetadata.getUnique());
              }
              if (localMetadata.getScale() != null) {
                serverMetadata.setScale(localMetadata.getScale());
              }
              if (localMetadata.getPrecision() != null) {
                serverMetadata.setPrecision(localMetadata.getPrecision());
              }
            }
          }
        }
      }
    }
  }
}
