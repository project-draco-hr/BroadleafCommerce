{
  BroadleafRequestContext brc=BroadleafRequestContext.getBroadleafRequestContext();
  if (brc != null) {
    Site site=brc.getSite();
    if (site != null) {
      String siteDirectory=File.separator + "site-" + site.getId();
      String siteHash=DigestUtils.md5Hex(siteDirectory);
      return baseDirectory + siteHash.substring(0,2) + siteDirectory+ File.separator;
    }
  }
  return baseDirectory;
}
