{
  if (customCriteria != null && customCriteria.length > 0) {
    LOG.warn("custom persistence handlers and custom criteria not supported for remove types other than ENTITY");
  }
  try {
    JoinTable joinTable=(JoinTable)persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.JOINTABLE);
    Map<String,FieldMetadata> mergedProperties=getMergedProperties(joinTable.getJoinTableEntityClassname(),new Class[]{Class.forName(joinTable.getJoinTableEntityClassname())},null,new String[]{},new ForeignKey[]{},MergedPropertyType.JOINTABLE);
    CriteriaTransferObject ctoInserted=new CriteriaTransferObject();
    FilterAndSortCriteria filterCriteriaInsertedLinked=ctoInserted.get(joinTable.getManyToField());
    filterCriteriaInsertedLinked.setFilterValue(entity.findProperty(joinTable.getLinkedObjectPath() + "." + joinTable.getLinkedIdProperty()).getValue());
    FilterAndSortCriteria filterCriteriaInsertedTarget=ctoInserted.get(joinTable.getManyToField() + "Target");
    filterCriteriaInsertedTarget.setFilterValue(entity.findProperty(joinTable.getTargetObjectPath() + "." + joinTable.getTargetIdProperty()).getValue());
    BaseCtoConverter ctoConverterInserted=getJoinTableCtoConverter(ctoInserted,mergedProperties,joinTable);
    PersistentEntityCriteria queryCriteriaInserted=ctoConverterInserted.convert(ctoInserted,joinTable.getJoinTableEntityClassname());
    List<Serializable> recordsInserted=dynamicEntityDao.query(queryCriteriaInserted,Class.forName(joinTable.getJoinTableEntityClassname()));
    dynamicEntityDao.remove(recordsInserted.get(0));
  }
 catch (  Exception e) {
    LOG.error("Problem removing entity",e);
    throw new ServiceException("Problem removing entity : " + e.getMessage(),e);
  }
}
