{
  CombinedPaymentContextSeed seed=((PaymentContext)context).getSeedData();
  Map<PaymentInfo,Referenced> infos=seed.getInfos();
  Iterator<PaymentInfo> itr=infos.keySet().iterator();
  while (itr.hasNext()) {
    PaymentInfo info=itr.next();
    if (info.getType().equals(BLCPaymentInfoType.BANK_ACCOUNT)) {
      if (seed.getActionType() == PaymentActionType.AUTHORIZE) {
        bankAccountModule.authorize(info,(BankAccountPaymentInfo)infos.get(info));
      }
 else       if (seed.getActionType() == PaymentActionType.DEBIT) {
        bankAccountModule.debit(info,(BankAccountPaymentInfo)infos.get(info));
      }
 else {
        bankAccountModule.authorizeAndDebit(info,(BankAccountPaymentInfo)infos.get(info));
      }
    }
  }
  return context;
}
