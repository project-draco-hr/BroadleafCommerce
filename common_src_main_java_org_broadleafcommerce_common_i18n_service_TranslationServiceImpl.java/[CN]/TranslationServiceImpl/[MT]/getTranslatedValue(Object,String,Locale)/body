{
  TranslatedEntity entityType=getEntityType(entity);
  String entityId=getEntityId(entity,entityType);
  String localeCode=locale.getLanguage();
  String localeCountryCode=localeCode;
  if (StringUtils.isNotBlank(locale.getCountry())) {
    localeCountryCode+="_" + locale.getCountry();
  }
  Translation translation;
  String countryCacheKey=getCacheKey(entityType,entityId,property,localeCountryCode);
  Element countryValue=getCache().get(countryCacheKey);
  if (countryValue != null) {
    translation=(Translation)countryValue.getObjectValue();
  }
 else {
    translation=getTranslation(entityType,entityId,property,localeCountryCode);
    if (translation == null) {
      translation=new TranslationImpl();
    }
    getCache().put(new Element(countryCacheKey,translation));
  }
  if (translation.getTranslatedValue() == null) {
    String nonCountryCacheKey=getCacheKey(entityType,entityId,property,localeCode);
    Element nonCountryValue=getCache().get(nonCountryCacheKey);
    if (nonCountryValue != null) {
      translation=(Translation)nonCountryValue.getObjectValue();
    }
 else {
      translation=getTranslation(entityType,entityId,property,localeCode);
      if (translation == null) {
        translation=new TranslationImpl();
      }
      getCache().put(new Element(nonCountryCacheKey,translation));
    }
  }
  if (StringUtils.isNotBlank(translation.getTranslatedValue())) {
    return translation.getTranslatedValue();
  }
  return null;
}
