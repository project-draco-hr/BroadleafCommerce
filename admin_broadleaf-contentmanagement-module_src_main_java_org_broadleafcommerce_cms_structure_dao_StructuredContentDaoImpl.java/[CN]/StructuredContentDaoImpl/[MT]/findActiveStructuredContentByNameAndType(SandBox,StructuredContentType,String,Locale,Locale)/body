{
  String queryName=null;
  if (languageOnlyLocale == null) {
    languageOnlyLocale=fullLocale;
  }
  final Query query;
  if (sandBox == null) {
    query=em.createNamedQuery("BC_ACTIVE_STRUCTURED_CONTENT_BY_TYPE_AND_NAME");
  }
 else   if (SandBoxType.PRODUCTION.equals(sandBox)) {
    query=em.createNamedQuery("BC_ACTIVE_STRUCTURED_CONTENT_BY_TYPE_AND_NAME_AND_PRODUCTION_SANDBOX");
    query.setParameter("sandbox",sandBox);
  }
 else {
    query=em.createNamedQuery("BC_ACTIVE_STRUCTURED_CONTENT_BY_TYPE_AND_NAME_AND_USER_SANDBOX");
    query.setParameter("sandboxId",sandBox.getId());
  }
  query.setParameter("contentType",type);
  query.setParameter("contentName",name);
  query.setParameter("fullLocale",fullLocale);
  query.setParameter("languageOnlyLocale",languageOnlyLocale);
  query.setHint(QueryHints.HINT_CACHEABLE,true);
  return query.getResultList();
}
