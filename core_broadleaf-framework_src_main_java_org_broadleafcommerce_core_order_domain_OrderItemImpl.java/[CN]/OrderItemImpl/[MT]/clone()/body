{
  OrderItem clonedOrderItem;
  try {
    clonedOrderItem=(OrderItem)Class.forName(this.getClass().getName()).newInstance();
    try {
      checkCloneable(clonedOrderItem);
    }
 catch (    CloneNotSupportedException e) {
      LOG.warn("Clone implementation missing in inheritance hierarchy outside of Broadleaf: " + clonedOrderItem.getClass().getName(),e);
    }
    if (getCandidateItemOffers() != null) {
      for (      CandidateItemOffer candidate : getCandidateItemOffers()) {
        CandidateItemOffer clone=candidate.clone();
        clone.setOrderItem(clonedOrderItem);
        clonedOrderItem.getCandidateItemOffers().add(clone);
      }
    }
    if (getOrderItemAttributes() != null && !getOrderItemAttributes().isEmpty()) {
      for (      OrderItemAttribute attribute : getOrderItemAttributes().values()) {
        OrderItemAttribute clone=attribute.clone();
        clone.setOrderItem(clonedOrderItem);
        clonedOrderItem.getOrderItemAttributes().put(clone.getName(),clone);
      }
    }
    clonedOrderItem.setCategory(getCategory());
    clonedOrderItem.setGiftWrapOrderItem(getGiftWrapOrderItem());
    clonedOrderItem.setName(getName());
    clonedOrderItem.setOrder(getOrder());
    clonedOrderItem.setOrderItemType(getOrderItemType());
    clonedOrderItem.setPersonalMessage(getPersonalMessage());
    clonedOrderItem.setQuantity(getQuantity());
    clonedOrderItem.setRetailPrice(getRetailPrice());
    clonedOrderItem.setSalePrice(getSalePrice());
    clonedOrderItem.setPrice(getPrice());
    clonedOrderItem.setSplitParentItemId(getSplitParentItemId());
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  return clonedOrderItem;
}
