{
  if (customer.getAuditable() != null) {
    customer.getAuditable().setDateUpdated(new Date());
  }
  if (customer.getId() == null) {
    em.persist(customer);
  }
 else {
    customer=em.merge(customer);
  }
  return customer;
}
