{
  FullfillmentGroupItem fgi=null;
  if (fullfillmentGroup.getId() == null) {
    fullfillmentGroup=addFullfillmentGroupToOrder(item.getOrder(),fullfillmentGroup);
  }
  for (  FullfillmentGroup fg : item.getOrder().getFullfillmentGroups()) {
    for (    FullfillmentGroupItem tempFgi : fg.getFullfillmentGroupItems()) {
      if (tempFgi.getOrderItem().getId().equals(item.getId())) {
        fgi=tempFgi;
        fg.getFullfillmentGroupItems().remove(fg);
        fullfillmentGroupDao.maintainFullfillmentGroup(fg);
      }
    }
  }
  if (fgi == null)   fgi=createFulfillmentGroupItemFromOrderItem(item,fullfillmentGroup.getId());
  fullfillmentGroupItemDao.maintainFullfillmentGroupItem(fgi);
  return fullfillmentGroupDao.readFullfillmentGroupById(fullfillmentGroup.getId());
}
