{
  FulfillmentGroupItem fgi=null;
  Order order=orderDao.readOrderById(item.getOrderId());
  if (fulfillmentGroup.getId() == null) {
    fulfillmentGroup=addFulfillmentGroupToOrder(order,fulfillmentGroup);
  }
  order=orderDao.readOrderById(item.getOrderId());
  for (  FulfillmentGroup fg : order.getFulfillmentGroups()) {
    if (fg.getFulfillmentGroupItems() != null) {
      for (Iterator<FulfillmentGroupItem> iterator=fg.getFulfillmentGroupItems().iterator(); iterator.hasNext(); ) {
        FulfillmentGroupItem tempFgi=iterator.next();
        if (tempFgi.getOrderItem().getId().equals(item.getId())) {
          fgi=tempFgi;
          iterator.remove();
          fulfillmentGroupDao.maintainFulfillmentGroup(fg);
        }
      }
    }
  }
  if (fgi == null) {
    fgi=createFulfillmentGroupItemFromOrderItem(item,fulfillmentGroup.getId());
  }
  fulfillmentGroup.addFulfillmentGroupItem(fgi);
  return fulfillmentGroupDao.maintainFulfillmentGroup(fulfillmentGroup);
}
