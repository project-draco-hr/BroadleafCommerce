{
  List<FulfillmentGroup> fulfillmentGroups=order.getFulfillmentGroups();
  for (  FulfillmentGroup fulfillmentGroup : fulfillmentGroups) {
    List<FulfillmentGroupItem> itemsToRemove=new ArrayList<FulfillmentGroupItem>();
    List<FulfillmentGroupItem> fgItems=fulfillmentGroup.getFulfillmentGroupItems();
    for (    FulfillmentGroupItem fulfillmentGroupItem : fgItems) {
      if (fulfillmentGroupItem.getOrderItem().equals(orderItem)) {
        itemsToRemove.add(fulfillmentGroupItem);
      }
    }
    if (!itemsToRemove.isEmpty()) {
      for (      FulfillmentGroupItem fgi : itemsToRemove) {
        fulfillmentGroupItemDao.deleteFulfillmentGroupItem(fgi);
      }
      fulfillmentGroup.getFulfillmentGroupItems().removeAll(itemsToRemove);
    }
  }
}
