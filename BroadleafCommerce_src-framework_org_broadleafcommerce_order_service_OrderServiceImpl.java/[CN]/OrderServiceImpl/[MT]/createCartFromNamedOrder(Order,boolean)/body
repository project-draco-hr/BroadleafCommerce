{
  Order cartOrder=orderDao.readCartOrdersForCustomer(namedOrder.getCustomer(),false);
  if (cartOrder == null) {
    cartOrder=createCurrentCartForCustomer(namedOrder.getCustomer());
  }
  for (  OrderItem orderItem : namedOrder.getOrderItems()) {
    removeItemFromOrder(namedOrder,orderItem.getId());
    addItemToOrder(cartOrder,orderItem.getSku(),orderItem.getQuantity());
  }
  if (deleteNamedOrder) {
    orderDao.deleteOrderForCustomer(namedOrder);
  }
  return cartOrder;
}
