{
  String prefix=storeFrontWebAppPrefix;
  if (prefix.startsWith("/")) {
    UrlBuilder urlBuilder=new UrlBuilder();
    urlBuilder.setHost(com.google.gwt.user.client.Window.Location.getHost());
    String port=com.google.gwt.user.client.Window.Location.getPort();
    if (port != null && port.length() > 0) {
      urlBuilder.setPort(Integer.valueOf(port));
    }
    urlBuilder.setProtocol(com.google.gwt.user.client.Window.Location.getProtocol());
    urlBuilder.setPath(prefix + (path == null ? "" : path));
    return urlBuilder.buildString();
  }
  return prefix + (path == null ? "" : path);
}
