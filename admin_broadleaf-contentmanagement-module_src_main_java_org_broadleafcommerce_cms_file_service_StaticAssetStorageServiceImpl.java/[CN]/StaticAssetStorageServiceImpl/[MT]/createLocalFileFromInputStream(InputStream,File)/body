{
  BufferedOutputStream bos=null;
  try {
    if (!baseLocalFile.getParentFile().exists()) {
      if (!baseLocalFile.getParentFile().mkdirs()) {
        throw new RuntimeException("Unable to create middle directories for file: " + baseLocalFile.getAbsolutePath());
      }
    }
    bos=new BufferedOutputStream(new FileOutputStream(baseLocalFile));
    boolean eof=false;
    int temp;
    while (!eof) {
      temp=is.read();
      if (temp < 0) {
        eof=true;
      }
 else {
        bos.write(temp);
      }
    }
  }
  finally {
    try {
      bos.flush();
      bos.close();
    }
 catch (    Throwable e) {
    }
  }
}
