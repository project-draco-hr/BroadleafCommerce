{
  for (  Property property : entity.getProperties()) {
    if (property.getValue() != null && this.getField(property.getName()).getType().equals(FieldType.DATETIME)) {
      record.setAttribute(property.getName(),formatter.parse(property.getValue()));
    }
 else     if (getField(property.getName()).getType().equals(FieldType.BOOLEAN) && property.getValue() == null && getField(property.getName()).getRequired()) {
      record.setAttribute(property.getName(),false);
    }
 else     if (property.getType() != null && SupportedFieldType.valueOf(property.getType()).equals(SupportedFieldType.FOREIGN_KEY)) {
      record.setAttribute(property.getName(),linkedValue);
    }
 else {
      String propertyValue;
      if (property.getName().equals("id")) {
        if (updateId) {
          propertyValue=property.getValue() + "_" + loadLevelCount;
          loadLevelCount++;
          record.setAttribute(property.getName(),propertyValue);
        }
      }
 else {
        propertyValue=property.getValue();
        record.setAttribute(property.getName(),propertyValue);
      }
    }
  }
  String entityType=entity.getType();
  record.setAttribute("type",entityType);
  return record;
}
