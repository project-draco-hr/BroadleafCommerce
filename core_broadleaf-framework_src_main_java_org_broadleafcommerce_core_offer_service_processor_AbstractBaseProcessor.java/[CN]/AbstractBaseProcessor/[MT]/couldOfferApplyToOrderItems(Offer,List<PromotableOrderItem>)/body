{
  CandidatePromotionItems candidates=new CandidatePromotionItems();
  if (offer.getQualifyingItemCriteria() == null || offer.getQualifyingItemCriteria().size() == 0) {
    candidates.setMatchedQualifier(true);
  }
 else {
    for (    OfferItemCriteria criteria : offer.getQualifyingItemCriteria()) {
      checkForItemRequirements(offer,candidates,criteria,promotableOrderItems,true);
      if (!candidates.isMatchedQualifier()) {
        break;
      }
    }
  }
  if (offer.getType().equals(OfferType.ORDER_ITEM) && offer.getTargetItemCriteria() != null) {
    for (    OfferItemCriteria criteria : offer.getTargetItemCriteria()) {
      checkForItemRequirements(offer,candidates,criteria,promotableOrderItems,false);
      if (!candidates.isMatchedTarget()) {
        break;
      }
    }
  }
  if (candidates.isMatchedQualifier()) {
    if (!meetsItemQualifierSubtotal(offer,candidates)) {
      candidates.setMatchedQualifier(false);
    }
  }
  return candidates;
}
