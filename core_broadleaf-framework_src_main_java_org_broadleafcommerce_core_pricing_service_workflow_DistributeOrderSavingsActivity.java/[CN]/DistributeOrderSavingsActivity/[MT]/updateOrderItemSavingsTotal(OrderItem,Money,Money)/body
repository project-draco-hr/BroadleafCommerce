{
  Money itemTotal=orderItem.getTotalPrice();
  Money prorataOrderSavings=new Money(BroadleafCurrencyUtils.getCurrency(orderSavings));
  if (orderSavings == null || (orderSavings.getAmount().compareTo(BigDecimal.ZERO) == 0)) {
    orderItem.setProratedOrderAdjustment(new Money(BroadleafCurrencyUtils.getCurrency(orderSavings)));
  }
 else {
    prorataOrderSavings=itemTotal.divide(subTotal.getAmount()).multiply(orderSavings.getAmount());
    orderItem.setProratedOrderAdjustment(prorataOrderSavings);
  }
  return prorataOrderSavings;
}
