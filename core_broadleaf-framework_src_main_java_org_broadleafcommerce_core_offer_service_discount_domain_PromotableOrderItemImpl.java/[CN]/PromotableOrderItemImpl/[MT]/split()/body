{
  List<PromotableOrderItem> splitItems=null;
  if (delegate.getQuantity() != 1) {
    int discountQty=getPromotionDiscountMismatchQuantity();
    if (discountQty != 0) {
      splitItems=new ArrayList<PromotableOrderItem>();
      PromotableOrderItem firstItem=(PromotableOrderItem)clone();
      PromotableOrderItem secondItem=(PromotableOrderItem)clone();
      if (getSplitParentItemId() == null) {
        firstItem.setSplitParentItemId(delegate.getId());
        secondItem.setSplitParentItemId(delegate.getId());
      }
      splitItems.add(firstItem);
      splitItems.add(secondItem);
      int firstItemQty=discountQty;
      int secondItemQty=delegate.getQuantity() - discountQty;
      firstItem.getDelegate().setQuantity(firstItemQty);
      secondItem.getDelegate().setQuantity(secondItemQty);
      for (      PromotionQualifier pq : promotionQualifiers) {
        if (pq.getQuantity() > firstItemQty) {
          PromotionQualifier pq1=pq.copy();
          pq1.resetQty(firstItemQty);
          firstItem.getPromotionQualifiers().add(pq1);
          PromotionQualifier pq2=pq.copy();
          pq2.resetQty(pq.getQuantity() - firstItemQty);
          secondItem.getPromotionQualifiers().add(pq2);
        }
 else {
          firstItem.getPromotionQualifiers().add(pq);
        }
      }
      for (      PromotionDiscount pd : promotionDiscounts) {
        if (pd.getQuantity() > firstItemQty) {
          PromotionDiscount pd1=pd.copy();
          pd1.resetQty(firstItemQty);
          firstItem.getPromotionDiscounts().add(pd1);
          PromotionDiscount pd2=pd.copy();
          pd2.resetQty(pd.getQuantity() - firstItemQty);
          secondItem.getPromotionDiscounts().add(pd2);
        }
 else {
          firstItem.getPromotionDiscounts().add(pd);
        }
      }
    }
  }
  return splitItems;
}
