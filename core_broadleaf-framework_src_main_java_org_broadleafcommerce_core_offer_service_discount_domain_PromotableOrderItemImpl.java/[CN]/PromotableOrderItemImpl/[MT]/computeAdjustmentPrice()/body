{
  delegate.updatePrices();
  Money tempDiscountedRetailPrice=delegate.getRetailPrice();
  Money tempDiscountedSalePrice=delegate.getSalePrice();
  for (  OrderItemAdjustment adjustment : delegate.getOrderItemAdjustments()) {
    Money salesValue=adjustment.getSalesPriceValue();
    Money retailValue=adjustment.getRetailPriceValue();
    if (adjustment.getOffer().getApplyDiscountToSalePrice()) {
      if (adjustment.getOrderItem().getIsOnSale()) {
        tempDiscountedSalePrice=tempDiscountedSalePrice.subtract(salesValue);
      }
    }
    tempDiscountedRetailPrice=tempDiscountedRetailPrice.subtract(retailValue);
  }
  if (tempDiscountedSalePrice != null) {
    saleAdjustmentPrice=tempDiscountedSalePrice.getAmount();
  }
  retailAdjustmentPrice=tempDiscountedRetailPrice.getAmount();
}
