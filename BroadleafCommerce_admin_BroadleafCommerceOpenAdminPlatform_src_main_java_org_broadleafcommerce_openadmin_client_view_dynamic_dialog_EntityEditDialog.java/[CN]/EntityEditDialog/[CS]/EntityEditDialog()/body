{
  this.setIsModal(true);
  this.setShowModalMask(true);
  this.setShowMinimizeButton(false);
  this.setWidth(600);
  this.setCanDragResize(true);
  this.setOverflow(Overflow.VISIBLE);
  hStack=new HStack();
  VStack stack=new VStack();
  stack.setWidth("80%");
  stack.setLayoutRightMargin(20);
  dynamicForm=new DynamicForm();
  dynamicForm.setNumCols(3);
  dynamicForm.setPadding(10);
  stack.addMember(dynamicForm);
  hStack.addMember(stack);
  pictureStack=new VStack();
  pictureStack.setLayoutTopMargin(20);
  VStack previewContainer=new VStack();
  previewContainer.setWidth(60);
  previewContainer.setHeight(60);
  previewContainer.setBorder("1px solid #a6abb4");
  previewImg=new Img();
  previewImg.setImageType(ImageStyle.CENTER);
  previewImg.setVisible(true);
  previewImg.setShowDisabled(false);
  previewImg.setSrc(GWT.getModuleBaseURL() + "admin/images/blank.gif");
  previewImg.setShowDown(false);
  previewContainer.addChild(previewImg);
  pictureStack.addMember(previewContainer);
  hStack.addMember(pictureStack);
  addItem(hStack);
  IButton saveButton=new IButton("Save");
  saveButton.addClickHandler(new ClickHandler(){
    public void onClick(    ClickEvent event){
      if (dynamicForm.validate()) {
        dynamicForm.saveData(new DSCallback(){
          public void execute(          DSResponse response,          Object rawData,          DSRequest request){
            TreeNode record=new TreeNode(request.getData());
            if (handler != null) {
              handler.onItemEdited(new ItemEdited(record,dynamicForm.getDataSource()));
            }
          }
        }
);
        hide();
      }
    }
  }
);
  IButton cancelButton=new IButton("Cancel");
  cancelButton.addClickHandler(new ClickHandler(){
    public void onClick(    ClickEvent event){
      hide();
    }
  }
);
  vLayout=new VLayout();
  vLayout.setHeight100();
  vLayout.setAlign(VerticalAlignment.BOTTOM);
  HLayout hLayout=new HLayout(10);
  hLayout.setAlign(Alignment.CENTER);
  hLayout.addMember(saveButton);
  hLayout.addMember(cancelButton);
  hLayout.setLayoutTopMargin(40);
  hLayout.setLayoutBottomMargin(40);
  vLayout.addMember(hLayout);
  addItem(vLayout);
}
