{
  int start=0;
  for (int i=0; i < length; i++) {
    char c=buffer[i];
    if (c <= Util.HIGHEST_SPECIAL) {
      char[] escaped=Util.specialCharactersRepresentation[c];
      if (escaped != null) {
        if (start < i) {
          w.write(buffer,start,i - start);
        }
        w.write(escaped);
        start=i + 1;
      }
    }
  }
  if (start < length) {
    w.write(buffer,start,length - start);
  }
}
