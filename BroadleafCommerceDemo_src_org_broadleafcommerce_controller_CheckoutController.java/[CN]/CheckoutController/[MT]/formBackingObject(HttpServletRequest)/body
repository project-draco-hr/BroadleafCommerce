{
  Checkout checkout=new Checkout();
  BroadleafOrder order;
  OrderShipping orderShipping=new OrderShipping();
  orderShipping.setAddress(new BroadleafCustomerAddress());
  OrderPayment orderPayment=new OrderPayment();
  orderPayment.setAddress(new BroadleafCustomerAddress());
  ContactInfo contactInfo=new BroadleafContactInfo();
  Authentication auth=SecurityContextHolder.getContext().getAuthentication();
  Customer customer=customerService.readCustomerByUsername(auth.getName());
  List<ContactInfo> contactInfos=contactInfoService.readContactInfoByUserId(customer.getId());
  List<Address> addressList=addressService.readAddressByUserId(customer.getId());
  order=orderService.getCurrentBasketForCustomer(customer);
  checkout.setUserContactInfo(contactInfos);
  checkout.setAddressList(addressList);
  checkout.setOrder(orderService.getCurrentBasketForUserId(customer.getId()));
  checkout.setOrderItems(orderService.getItemsForOrder(order.getId()));
  checkout.setContactInfo(contactInfo);
  checkout.setOrderShipping(orderShipping);
  checkout.setOrderPayment(orderPayment);
  return checkout;
}
