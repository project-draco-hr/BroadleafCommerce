{
  Map<String,String> attrs=new HashMap<String,String>();
  BroadleafRequestContext blcContext=BroadleafRequestContext.getBroadleafRequestContext();
  HttpServletRequest request=blcContext.getRequest();
  String baseUrl=request.getRequestURL().toString();
  Map<String,String[]> params=new HashMap<String,String[]>(request.getParameterMap());
  SearchFacetResultDTO result=(SearchFacetResultDTO)StandardExpressionProcessor.processExpression(arguments,element.getAttributeValue(attributeName));
  String key=result.getFacet().getSearchFacet().getFieldName();
  String[] paramValues=params.get(key);
  String value=result.getValue();
  if (value == null) {
    value="blcRange[" + result.getMinValue() + ":"+ result.getMaxValue()+ "]";
  }
  paramValues=(String[])ArrayUtils.add(paramValues,value);
  params.put(key,paramValues);
  String url=ProcessorUtils.getUrl(baseUrl,params);
  attrs.put("href",url);
  return attrs;
}
