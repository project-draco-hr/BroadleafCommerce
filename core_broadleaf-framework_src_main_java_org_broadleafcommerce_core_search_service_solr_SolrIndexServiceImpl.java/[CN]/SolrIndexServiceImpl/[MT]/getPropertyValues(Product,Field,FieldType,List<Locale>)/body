{
  String propertyName=field.getPropertyName();
  Map<String,Object> values=new HashMap<String,Object>();
  if (extensionManager != null) {
    ExtensionResultStatusType result=extensionManager.getProxy().addPropertyValues(product,field,fieldType,values,propertyName,locales);
    if (ExtensionResultStatusType.NOT_HANDLED.equals(result)) {
      Object propertyValue;
      if (propertyName.contains(PRODUCT_ATTR_MAP)) {
        propertyValue=PropertyUtils.getMappedProperty(product,PRODUCT_ATTR_MAP,propertyName.substring(PRODUCT_ATTR_MAP.length() + 1));
        if (propertyValue != null) {
          try {
            propertyValue=shs.getPropertyValue(propertyValue,"value");
          }
 catch (          NoSuchMethodException e) {
          }
        }
      }
 else {
        propertyValue=shs.getPropertyValue(product,propertyName);
      }
      values.put("",propertyValue);
    }
  }
  return values;
}
