{
  Map<String,Object> vars=new HashMap<String,Object>();
  int foundCount=0;
  Iterator<OrderItem> items=orderItems.iterator();
  while (foundCount < itemCriteria.getQuantity() && items.hasNext()) {
    OrderItem currentItem=items.next();
    vars.put("item",currentItem);
    boolean match=executeExpression(itemCriteria.getOrderItemMatchRule(),vars);
    if (match) {
      foundCount=foundCount + currentItem.getQuantity();
    }
  }
  return (foundCount >= itemCriteria.getQuantity().intValue());
}
