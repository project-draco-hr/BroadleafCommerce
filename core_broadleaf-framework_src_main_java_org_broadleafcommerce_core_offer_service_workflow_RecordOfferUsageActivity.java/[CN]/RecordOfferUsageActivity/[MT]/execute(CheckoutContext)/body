{
  CheckoutSeed seed=context.getSeedData();
  Order order=seed.getOrder();
  if (order != null) {
    Set<Offer> appliedOffers=offerService.getUniqueOffersFromOrder(order);
    Map<Offer,OfferCode> offerToCodeMapping=offerService.getOffersRetrievedFromCodes(order.getAddedOfferCodes(),appliedOffers);
    saveOfferIds(appliedOffers,offerToCodeMapping,order);
  }
  return context;
}
