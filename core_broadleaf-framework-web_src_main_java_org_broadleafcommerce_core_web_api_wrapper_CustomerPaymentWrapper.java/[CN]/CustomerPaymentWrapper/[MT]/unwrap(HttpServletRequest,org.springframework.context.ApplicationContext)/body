{
  CustomerPaymentService custPayService=(CustomerPaymentService)context.getBean("blCustomerPaymentService");
  CustomerPayment custPay=custPayService.create();
  AddressService addressService=(AddressService)context.getBean("blAddressService");
  Address billingAddress=addressService.readAddressById(this.billingAddress.getId());
  custPay.setBillingAddress(billingAddress);
  CustomerService customerService=(CustomerService)context.getBean("blCustomerService");
  Customer cust=customerService.readCustomerById(this.customer.getId());
  custPay.setCustomer(cust);
  custPay.setIsDefault(this.isDefault);
  custPay.setPaymentName(this.getCardName());
  custPay.setCardType(this.getCardType());
  custPay.setExpirationDate(this.getExpirationDate());
  custPay.setPaymentGatewayType(PaymentGatewayType.getInstance(this.getPaymentGatewayType()));
  custPay.setLastFour(this.getLastFour());
  custPay.setPaymentToken(this.getPaymentToken());
  super.transferAdditionalFieldsFromWrapper(custPay,this);
  return custPay;
}
