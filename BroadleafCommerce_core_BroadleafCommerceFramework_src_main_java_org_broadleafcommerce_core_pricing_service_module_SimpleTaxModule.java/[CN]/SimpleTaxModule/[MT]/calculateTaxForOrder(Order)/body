{
  Money totalTax=getFulfillmentGroupFeeTotal(order).multiply(factor);
  for (  FulfillmentGroup fulfillmentGroup : order.getFulfillmentGroups()) {
    Money fgTotalTax=fulfillmentGroup.getShippingPrice().multiply(factor);
    fulfillmentGroup.setTotalTax(fgTotalTax);
    fulfillmentGroup.setCityTax(new Money(0D));
    fulfillmentGroup.setStateTax(new Money(0D));
    fulfillmentGroup.setDistrictTax(new Money(0D));
    fulfillmentGroup.setCountyTax(new Money(0D));
    fulfillmentGroup.setCountryTax(new Money(0D));
    totalTax=totalTax.add(fgTotalTax);
  }
  order.setCityTax(new Money(0D));
  order.setStateTax(new Money(0D));
  order.setDistrictTax(new Money(0D));
  order.setCountyTax(new Money(0D));
  order.setCountryTax(new Money(0D));
  order.setTotalTax(totalTax);
  return order;
}
