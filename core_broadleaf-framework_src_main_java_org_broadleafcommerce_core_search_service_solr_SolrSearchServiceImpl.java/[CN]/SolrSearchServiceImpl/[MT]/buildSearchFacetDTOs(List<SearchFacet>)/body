{
  List<SearchFacetDTO> facets=new ArrayList<SearchFacetDTO>();
  HttpServletRequest request=BroadleafRequestContext.getBroadleafRequestContext().getRequest();
  for (  SearchFacet facet : searchFacets) {
    if (facetIsAvailable(facet,request)) {
      SearchFacetDTO dto=new SearchFacetDTO();
      dto.setFacet(facet);
      dto.setShowQuantity(true);
      facets.add(dto);
    }
  }
  return facets;
}
