{
  Map<String,String> solrFieldKeyMap=getSolrFieldKeyMap(searchCriteria);
  String sortQuery=searchCriteria.getSortQuery();
  if (StringUtils.isBlank(sortQuery)) {
    sortQuery=defaultSort;
  }
  if (StringUtils.isNotBlank(sortQuery)) {
    String[] sortFields=sortQuery.split(",");
    for (    String sortField : sortFields) {
      String field=sortField.split(" ")[0];
      if (solrFieldKeyMap.containsKey(field)) {
        field=solrFieldKeyMap.get(field);
      }
      ORDER order="desc".equals(sortField.split(" ")[1]) ? ORDER.desc : ORDER.asc;
      if (field != null) {
        query.addSortField(field,order);
      }
    }
  }
}
