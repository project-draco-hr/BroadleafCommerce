{
  String propertyName=field.getPropertyName();
  if (propertyName.contains("productAttributes.")) {
    propertyName=convertToMappedProperty(propertyName,"productAttributes","mappedProductAttributes");
  }
  Map<String,Object> values=new HashMap<String,Object>();
  if (fieldType.equals(FieldType.PRICE)) {
    Object propertyValue=PropertyUtils.getProperty(product,propertyName);
    values.put("default",propertyValue);
  }
 else {
    for (    Locale locale : locales) {
      BroadleafRequestContext ctx=BroadleafRequestContext.getBroadleafRequestContext();
      if (ctx == null) {
        ctx=new BroadleafRequestContext();
        BroadleafRequestContext.setBroadleafRequestContext(ctx);
      }
      ctx.setLocale(locale);
      Object propertyValue=PropertyUtils.getProperty(product,propertyName);
      values.put(locale.getLocaleCode(),propertyValue);
    }
  }
  return values;
}
