{
  PaymentRequestDTO requestDTO=new PaymentRequestDTO().transactionTotal(transactionAmount.getAmount().toPlainString()).orderSubtotal(transactionAmount.getAmount().toPlainString()).shippingTotal(ZERO_TOTAL).taxTotal(ZERO_TOTAL).orderCurrencyCode(paymentTransaction.getOrderPayment().getCurrency().getCurrencyCode()).orderId(paymentTransaction.getOrderPayment().getOrder().getId().toString());
  populateBillTo(requestDTO,paymentTransaction.getOrderPayment());
  Map<String,String> additionalFields=paymentTransaction.getAdditionalFields();
  CustomerPayment customerPayment=paymentTransaction.getOrderPayment().getCustomerPayment();
  if (customerPayment != null && customerPayment.getPaymentToken() != null) {
    requestDTO.additionalField("TOKEN",customerPayment.getPaymentToken());
  }
  for (  String key : additionalFields.keySet()) {
    requestDTO.additionalField(key,additionalFields.get(key));
  }
  return requestDTO;
}
