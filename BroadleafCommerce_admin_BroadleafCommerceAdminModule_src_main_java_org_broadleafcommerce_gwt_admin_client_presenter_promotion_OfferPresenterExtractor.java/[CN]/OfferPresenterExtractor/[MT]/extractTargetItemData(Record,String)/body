{
  if (type.equals("ORDER_ITEM")) {
    String temp=getDisplay().getTargetItemBuilder().getItemQuantity().getValue().toString();
    Integer quantity=Integer.parseInt(temp);
    String mvel;
    if (getDisplay().getTargetItemBuilder().getIncompatibleMVEL()) {
      mvel=getDisplay().getTargetItemBuilder().getRawItemTextArea().getValueAsString();
    }
 else {
      mvel=TRANSLATOR.createMVEL(getDisplay().getTargetItemBuilder().getItemFilterBuilder().getCriteria(),FilterType.ORDER_ITEM,getDisplay().getTargetItemBuilder().getItemFilterBuilder().getDataSource());
    }
    selectedRecord.setAttribute("targetItemCriteria.quantity",quantity);
    selectedRecord.setAttribute("targetItemCriteria.orderItemMatchRule",mvel);
  }
 else {
    Object value=null;
    selectedRecord.setAttribute("targetItemCriteria",0);
    selectedRecord.setAttribute("targetItemCriteria.orderItemMatchRule",value);
  }
}
