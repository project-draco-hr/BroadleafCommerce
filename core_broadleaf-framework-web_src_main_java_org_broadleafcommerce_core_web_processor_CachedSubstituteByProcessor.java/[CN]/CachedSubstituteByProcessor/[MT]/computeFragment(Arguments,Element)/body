{
  String template=element.getAttributeValue("template");
  List<Node> nodes=computeFragmentInternal(arguments,element,"template",template);
  Expression expression=(Expression)StandardExpressions.getExpressionParser(arguments.getConfiguration()).parseExpression(arguments.getConfiguration(),arguments,element.getAttributeValueFromNormalizedName("cachekey"));
  String cacheKey=(String)expression.execute(arguments.getConfiguration(),arguments);
  int i=0;
  for (  Node node : nodes) {
    if (node instanceof Element) {
      ((Element)node).setAttribute("cachekey",cacheKey + ":" + (i++));
    }
  }
  return nodes;
}
