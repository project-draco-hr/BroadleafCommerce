{
  if (LOG.isDebugEnabled()) {
    LOG.debug(getBeanName() + " processor is running..");
  }
  List<Activity> activities=getActivities();
  ProcessContext context=createContext(seedData);
  for (Iterator<Activity> it=activities.iterator(); it.hasNext(); ) {
    Activity activity=it.next();
    if (LOG.isDebugEnabled()) {
      LOG.debug("running activity:" + activity.getBeanName() + " using arguments:"+ context);
    }
    try {
      context=activity.execute(context);
    }
 catch (    Throwable th) {
      ErrorHandler errorHandler=activity.getErrorHandler();
      if (errorHandler == null) {
        LOG.info("no error handler for this action, run default error" + "handler and abort processing ");
        getDefaultErrorHandler().handleError(context,th);
        break;
      }
 else {
        LOG.info("run error handler and continue");
        errorHandler.handleError(context,th);
      }
    }
    if (processShouldStop(context,activity)) {
      break;
    }
  }
  LOG.debug(getBeanName() + " processor is done.");
  return context;
}
