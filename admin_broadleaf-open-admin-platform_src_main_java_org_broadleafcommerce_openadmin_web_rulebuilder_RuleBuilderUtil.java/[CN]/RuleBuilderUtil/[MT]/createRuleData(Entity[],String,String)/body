{
  if (entities == null || entities.length == 0 || mvelProperty == null) {
    return null;
  }
  DataWrapper dataWrapper=new DataWrapper();
  for (  Entity e : entities) {
    String mvel=null;
    Integer qty=null;
    for (    Property p : e.getProperties()) {
      if (mvelProperty.equals(p.getName())) {
        mvel=p.getValue();
      }
      if (quantityProperty != null && quantityProperty.equals(p.getName())) {
        qty=Integer.parseInt(p.getValue());
      }
    }
    if (mvel != null) {
      Group group=groupingTranslator.createGroups(mvel);
      DataDTO dataDTO=createRuleDataDTO(group);
      dataDTO.setQuantity(qty);
      dataWrapper.getData().add(dataDTO);
    }
  }
  return dataWrapper;
}
