{
  List<Content> contentList=contentDao.readContentByIdsAndSandbox(contentIds,sandboxName);
  List<Content> stageContentList=contentDao.readStagedContent();
  List<Content> deleteList=new ArrayList<Content>();
  List<Content> saveList=new ArrayList<Content>();
  for (  Content content : contentList) {
    for (    Content stageContent : stageContentList) {
      if (stageContent.getTitle().equals(content.getTitle()) && stageContent.getContentType().equals(content.getContentType())) {
        deleteList.add(stageContent);
      }
    }
    content.setSandbox(null);
    content.setApprovedBy(username);
    content.setApprovedDate(SystemTime.asDate());
    saveList.add(content);
  }
  contentDao.saveContent(saveList);
  contentDao.delete(deleteList);
}
