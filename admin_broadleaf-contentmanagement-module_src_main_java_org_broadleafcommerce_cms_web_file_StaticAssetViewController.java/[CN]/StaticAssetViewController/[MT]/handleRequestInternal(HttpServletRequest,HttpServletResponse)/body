{
  String fullUrl=removeAssetPrefix(request.getRequestURI());
  try {
    Site site=siteResolver.resolveSite(new ServletWebRequest(request,response));
    SandBox sandBox=sandboxResolver.resolveSandBox(new ServletWebRequest(request,response),site);
    try {
      Map<String,String> model=staticAssetStorageService.getCacheFileModel(fullUrl,sandBox,convertParameterMap(request.getParameterMap()));
      return new ModelAndView(viewResolverName,model);
    }
 catch (    AssetNotFoundException e) {
      response.setStatus(HttpServletResponse.SC_NOT_FOUND);
      return null;
    }
  }
 catch (  Exception e) {
    LOG.error("Unable to retrieve static asset",e);
    throw new RuntimeException(e);
  }
}
