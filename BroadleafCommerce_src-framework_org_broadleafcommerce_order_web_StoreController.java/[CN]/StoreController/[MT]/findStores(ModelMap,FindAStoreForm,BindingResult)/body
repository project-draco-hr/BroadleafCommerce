{
  Address searchAddress=new AddressImpl();
  searchAddress.setAddressLine1(findAStoreForm.getAddressLine1());
  searchAddress.setAddressLine2(findAStoreForm.getAddressLine2());
  searchAddress.setCity(findAStoreForm.getCity());
  searchAddress.setState(findAStoreForm.getState());
  searchAddress.setPostalCode(findAStoreForm.getPostalCode());
  searchAddress.setCountry(findAStoreForm.getCountry());
  if (findAStoreForm.getPostalCode() == null || findAStoreForm.getPostalCode().isEmpty() || findAStoreForm.getDistance().isEmpty() || findAStoreForm.getPostalCode().length() != 5) {
    return showStores(model);
  }
  findAStoreForm.setStoreDistanceMap(storeService.findStoresByAddress(searchAddress,Double.parseDouble(findAStoreForm.getDistance())));
  model.addAttribute("stateList",stateService.findStates());
  model.addAttribute("countryList",countryService.findCountries());
  model.addAttribute("findAStoreForm",findAStoreForm);
  return "storeLocator/findAStore";
}
