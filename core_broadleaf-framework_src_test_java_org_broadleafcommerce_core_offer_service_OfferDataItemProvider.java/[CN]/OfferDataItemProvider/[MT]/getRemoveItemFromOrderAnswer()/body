{
  return new IAnswer<Order>(){
    public Order answer() throws Throwable {
      Order order=(Order)EasyMock.getCurrentArguments()[0];
      Iterator<OrderItem> orderItemItr=order.getOrderItems().listIterator();
      while (orderItemItr.hasNext()) {
        OrderItem item=orderItemItr.next();
        if (item.getId().equals(((OrderItemRequest)EasyMock.getCurrentArguments()[1]).getOrderItemId())) {
          orderItemItr.remove();
        }
      }
      for (      FulfillmentGroup fg : order.getFulfillmentGroups()) {
        Iterator<FulfillmentGroupItem> itr=fg.getFulfillmentGroupItems().iterator();
        while (itr.hasNext()) {
          if (itr.next().getOrderItem().getId().equals(((OrderItemRequest)EasyMock.getCurrentArguments()[1]).getOrderItemId())) {
            itr.remove();
          }
        }
      }
      return order;
    }
  }
;
}
