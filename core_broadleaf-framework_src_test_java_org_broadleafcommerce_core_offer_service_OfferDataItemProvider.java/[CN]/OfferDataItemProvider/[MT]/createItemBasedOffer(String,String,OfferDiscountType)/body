{
  List<Offer> offers=createOrderBasedOffer(orderRule,discountType);
  offers.get(0).setType(OfferType.ORDER_ITEM);
  if (targetRule != null) {
    Set<OfferItemCriteria> targetSet=new HashSet<OfferItemCriteria>();
    OfferItemCriteria targetCriteria=new OfferItemCriteriaImpl();
    targetCriteria.setQualifyingOffer(offers.get(0));
    targetCriteria.setQuantity(1);
    targetCriteria.setOrderItemMatchRule(targetRule);
    targetSet.add(targetCriteria);
    offers.get(0).setTargetItemCriteria(targetSet);
  }
  return offers;
}
