{
  Offer offer=new OfferImpl();
  OfferRule customerRule=new OfferRuleImpl();
  customerRule.setMatchRule(appliesToCustomerRules);
  offer.getOfferMatchRules().put(OfferRuleType.CUSTOMER.getType(),customerRule);
  OfferRule fgRule=new OfferRuleImpl();
  fgRule.setMatchRule(appliesToFulfillmentGroupRules);
  offer.getOfferMatchRules().put(OfferRuleType.FULFILLMENT_GROUP.getType(),fgRule);
  OfferRule orderRule=new OfferRuleImpl();
  orderRule.setMatchRule(appliesToRules);
  offer.getOfferMatchRules().put(OfferRuleType.ORDER.getType(),orderRule);
  offer.setApplyDiscountToSalePrice(applyToSalePrice);
  offer.setCombinableWithOtherOffers(combinableWithOtherOffers);
  offer.setDeliveryType(deliveryType);
  offer.setAutomaticallyAdded(OfferDeliveryType.AUTOMATIC == deliveryType);
  offer.setDiscountType(type);
  offer.setEndDate(endDate);
  offer.setMaxUses(maxUses);
  offer.setOfferItemQualifierRuleType(qualifierType);
  offer.setOfferItemTargetRuleType(targetType);
  offer.setPriority(priority);
  offer.setQualifyingItemCriteria(qualifyingItemCriteria);
  offer.setStackable(stackable);
  offer.setStartDate(startDate);
  offer.setTargetItemCriteria(targetItemCriteria);
  offer.setTotalitarianOffer(totalitarianOffer);
  offer.setType(offerType);
  offer.setValue(value);
  offer.setTreatAsNewFormat(true);
  offer.setId(getOfferId());
  return offer;
}
